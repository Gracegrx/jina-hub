(this["webpackJsonpdashboard-v1"]=this["webpackJsonpdashboard-v1"]||[]).push([[0],{10:function(e,t,a){"use strict";var n=a(29),r=a(88);function c(e,t,a){s.log("window.onerror - ERROR",e,t,"line: ".concat(a))}function o(e){window.logs.push(e)}var s={log:function(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(window.logsEnabled){var c=Object(n.a)(arguments);(e=console).log.apply(e,Object(n.a)(c)),o(c)}},isEnabled:function(){return window.logsEnabled},enable:function(){var e={};for(var t in window.navigator)e[t]=window.navigator[t];window.logs=[],o(e),window.addEventListener("error",c),window.logsEnabled=!0},disable:function(){window.removeEventListener("error",c),window.logsEnabled=!1},setFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";window.logsFormat=e},exportLogs:function(){for(var e=window.logsFormat||"json",t=window.logs,a="[\n",n=0;n<t.length;++n){var c=t[n];a+=JSON.stringify(c)+"".concat(n<t.length-1?",":"","\n")}a+="]";var o="jina-dashboard-debug-output-".concat(new Date,".").concat(e),s=new Blob([a],{type:"text,plain;charset=utf-8"});Object(r.saveAs)(s,o)}};t.a=s},101:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(6),o=a(609),s=a(601),l=a(163);function u(e){var t=e.title,a=e.content,n=e.icon,c=e.theme,u=e.link,i=e.dataName;return r.a.createElement("a",{className:"unstyled-link",href:u,target:"_blank",rel:"noopener noreferrer","data-name":i},r.a.createElement(o.a,{className:"h-100"},r.a.createElement(o.a.Body,{className:"pt-3"},r.a.createElement(s.a,{className:"align-items-center"},r.a.createElement(l.a,{xs:"8"},r.a.createElement("h4",null,t)),r.a.createElement(l.a,{xs:"4"},r.a.createElement("h1",{className:"float-right"},r.a.createElement("span",{className:"".concat(n," log-").concat(c)})))),r.a.createElement(s.a,null,r.a.createElement(l.a,null,a)))))}var i=a(39);t.a=function(){return r.a.createElement(c.h,{fluid:!0,className:"main-content-container px-4","data-name":"helpPage"},r.a.createElement(c.p,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(i.a,{title:"Resources",className:"text-sm-left mb-3"})),r.a.createElement(c.p,null,r.a.createElement(c.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement(u,{title:"Jina 101",content:"Understanding all key concepts of Jina in 3 minutes!",link:"https://101.jina.ai",icon:"fas fa-egg",theme:"warning",dataName:"jina-101-card"})),r.a.createElement(c.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement(u,{title:"Jina Docs",content:"The best way to learn Jina in depth.",link:"https://docs.jina.ai",icon:"fas fa-book",theme:"primary",dataName:"jina-docs-card"})),r.a.createElement(c.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement(u,{title:'Jina "Hello World"',content:"A simple demo of image neural search for Fashion-MNIST.",link:"https://github.com/jina-ai/jina#jina-hello-world-",icon:"fas fa-globe-europe",theme:"error",dataName:"jina-hello-world-card"})),r.a.createElement(c.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement(u,{title:r.a.createElement("span",null,"Visit us on ",r.a.createElement("span",{className:"text-nowrap"},"Github!")),content:"Explore more exciting open-source projects from us.",link:"https://opensource.jina.ai",icon:"fab fa-github",theme:"info",dataName:"jina-github-card"})),r.a.createElement(c.g,{md:"4",lg:"3",className:"mb-4"},r.a.createElement(u,{title:"We are hiring!",content:"Join us and build the next neural search eco system!",link:"https://www.linkedin.com/company/jinaai/jobs/",icon:"fab fa-linkedin",theme:"linkedin",dataName:"jina-linkedin-card"}))))}},107:function(e,t,a){"use strict";t.a={pokedex:{name:"Pokedex Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      rest_api: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          chunk_seg:\n            x: 250\n            y: 268\n          tf_encode:\n            x: 250\n            y: 420\n          chunk_idx:\n            x: 250\n            y: 600\n          ranker:\n            x: 250\n            y: 836\n          doc_idx:\n            x: 249\n            y: 985\n    pods:\n      gateway: {}\n      chunk_seg:\n        uses: pods/craft.yml\n        parallel: $PARALLEL\n        needs: gateway\n      tf_encode:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 600000\n        needs: chunk_seg\n      chunk_idx:\n        uses: pods/chunk.yml\n        shards: $SHARDS\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        timeout_ready: 100000\n        needs: tf_encode\n      ranker:\n        uses: BiMatchRanker\n        needs: chunk_idx\n      doc_idx:\n        uses: pods/doc.yml\n        needs: ranker\n    \n    "},flower:{name:"Flower Search Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 250\n            y: 150\n          loader:\n            x: 250\n            y: 257\n          flipper:\n            x: 252\n            y: 407\n          normalizer:\n            x: 239\n            y: 563\n          encoder:\n            x: 252\n            y: 712\n          chunk_indexer:\n            x: 250\n            y: 872\n          ranker:\n            x: 252\n            y: 1066\n          doc_indexer:\n            x: 253\n            y: 1199\n    pods:\n      gateway: {}\n      loader:\n        uses: yaml/craft-load.yml\n        read_only: true\n        needs: gateway\n      flipper:\n        uses: yaml/craft-flip.yml\n        read_only: true\n        needs: loader\n      normalizer:\n        uses: yaml/craft-normalize.yml\n        read_only: true\n        needs: flipper\n      encoder:\n        uses: $ENCODER\n        timeout_ready: 600000\n        read_only: true\n        needs: normalizer\n      chunk_indexer:\n        uses: yaml/index-chunk.yml\n        separated_workspace: true\n        polling: all\n        uses_reducing: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: yaml/index-doc.yml\n        needs: ranker  \n    "},southpark:{name:"Southpark Query",type:"example",yaml:"!Flow\n    with:\n      read_only: true\n      port_expose: $JINA_PORT\n      board:\n        canvas:\n          gateway:\n            x: 254\n            y: 147\n          splittor:\n            x: 254\n            y: 270\n          encoder:\n            x: 254\n            y: 448\n          chunk_indexer:\n            x: 251\n            y: 645\n          ranker:\n            x: 255\n            y: 862\n          doc_indexer:\n            x: 256\n            y: 1002\n    pods:\n      gateway: {}\n      splittor:\n        uses: pods/craft-split.yml\n        parallel: $PARALLEL\n        read_only: true\n        needs: gateway\n      encoder:\n        uses: pods/encode.yml\n        parallel: $PARALLEL\n        timeout_ready: 60000\n        read_only: true\n        needs: splittor\n      chunk_indexer:\n        uses: pods/index-chunk.yml\n        shards: $SHARDS\n        separated_workspace: true\n        polling: all\n        reducing_uses: _merge_all\n        needs: encoder\n      ranker:\n        uses: MinRanker\n        needs: chunk_indexer\n      doc_indexer:\n        uses: pods/index-doc.yml\n        needs: ranker\n    "},blankFlow:{name:"Test Flow",type:"example",yaml:"!Flow\n    with:\n      rest_api: true\n      port_expose: 5555\n    pods:\n      pod1:\n        read_only: true\n      pod2:\n        read_only: true\n      pod3:\n        read_only: true"}}},117:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(5),r=a.n(n),c=a(13),o=a(34),s=a(42),l=a(21),u=a(10),i=a(50);function m(e){return{type:o.c,payload:e}}function d(e){return{type:o.a,payload:e}}function p(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o,m,p,f;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m=function(e){n(d(e))},c=function(e){var t=e.connected,a=e.message;if(!t)return n(Object(l.d)(a,"error"))},a.next=4,i.a.getLogs(e,t);case 4:return o=a.sent,a.next=7,i.a.getLogs(e,t);case 7:if("error"!==(o=a.sent).status){a.next=11;break}return o.message&&n(Object(l.d)(o.message,"error")),a.abrupt("return");case 11:p=o.logs,u.a.log("got logs:",p),p.forEach(m),f=s.a.getState().settingsState.settings,i.a.listenForLogs(e,t,f,c,m);case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},119:function(e,t,a){"use strict";var n=a(60),r=a(62),c=a(61),o=a(99),s=a(0),l=a.n(s),u=a(6),i=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).componentDidMount=function(){var e=window.location.href,t=e.indexOf("code");if(t>0){var a=e.substring(t+5,e.length);window.location="".concat(o.a,"/auth/github/callback?code=").concat(a)}},e.render=function(){return l.a.createElement(u.h,{fluid:!0,className:"main-content-container px-0"},l.a.createElement(u.p,{noGutters:!0,className:"h-100"},l.a.createElement(u.g,{lg:"3",md:"5",className:"auth-form mx-auto"},l.a.createElement(u.d,null,l.a.createElement(u.e,null,l.a.createElement("img",{className:"auth-form__logo d-table mx-auto mb-3",src:"/jina-light.svg",style:{maxWidth:"100px"},alt:"Jina"}),l.a.createElement("h5",{className:"auth-form__title text-center mb-4"},"Log in"),l.a.createElement("a",{href:"".concat(o.a,"/auth/github"),id:"github-button",className:"btn btn-block btn-social btn-github"},l.a.createElement("i",{className:"fab fa-github"})," Sign in with GitHub"))))))},e}return a}(l.a.Component);t.a=i},120:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(28),o=a(604),s=a(601),l=a(39),u=a(18),i=a(19);function m(){var e=Object(u.a)(["\n  background: ",";\n  border-radius: 10px;\n  border: none;\n  padding: 1rem 1.5rem;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #ffffff;\n"]);return m=function(){return e},e}function d(){var e=Object(u.a)(["\n  font-weight: 600;\n  font-size: 1.5rem;\n"]);return d=function(){return e},e}function p(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: space-between;\n  border-radius: 0.75rem;\n  padding: 1.5rem;\n  width: 35%;\n"]);return p=function(){return e},e}var f=i.a.div(p()),b=i.a.span(d()),g=i.a.button(m(),(function(e){return e.theme.palette.primary})),v=function(e){var t=e.overviewAction,a=t.title,n=t.description,c=t.buttonLabel,o=t.buttonAction;return r.a.createElement(f,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{"data-name":"hubOverviewActionTitle"},a),r.a.createElement("p",null,n)),r.a.createElement(g,{"data-name":"hubOverviewActionButtonLabel",onClick:o},c))},h=function(){var e=Object(c.g)(),t=[{title:"Explore",description:"Find out what you can do in Jina hub and how you platform works.",buttonLabel:"Read more",buttonAction:function(){return e.push("/hub/explore")}},{title:"Create",description:"Create flow",buttonLabel:"Let's Go",buttonAction:function(){return e.push("/flow")}}];return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(v,{overviewAction:e,key:e.title})})))},w=a(609),E=a(163);function y(){var e=Object(u.a)(["\n  font-weight: 600;\n  opacity: 0.5;\n"]);return y=function(){return e},e}function O(){var e=Object(u.a)(["\n  font-size: 1.25em;\n  font-weight: 700;\n  line-height: normal;\n"]);return O=function(){return e},e}function x(){var e=Object(u.a)(["\n  background: #dad7fe;\n  border-radius: 6px;\n  display: inline-block;\n  padding: 0.25rem;\n  margin-right: 1rem;\n  margin-bottom: 1rem;\n"]);return x=function(){return e},e}var k=i.a.div(x()),j=i.a.div(O()),N=i.a.div(y());function _(e){var t=e.image,a=t.name,n=t.author,c=t.keywords,o=t.description;return r.a.createElement(w.a,{className:"clickable mb-4 h-100 image-card","data-name":"hubImage"},r.a.createElement(w.a.Body,{className:"pb-0 mb-0 pt-3"},r.a.createElement(s.a,null,r.a.createElement(E.a,{xs:"12",className:"px-0"},r.a.createElement(j,{className:"mb-2"},a),c.map((function(e){return r.a.createElement(k,{"data-name":"hubImageTags",key:e},e)})),r.a.createElement(N,{className:"mb-2"},n)),r.a.createElement(E.a,{sm:"12",className:"px-0 pb-0"},r.a.createElement("div",{className:"description-container"},r.a.createElement("div",{className:"description-overlay"}),r.a.createElement("div",{className:"app-description"},o))))))}function C(){var e=Object(u.a)(["\n  font-weight: 500;\n  font-size: 1.5rem;\n"]);return C=function(){return e},e}var S=i.a.span(C()),L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{"data-name":"hubImagesPreviewSubtitle"},"Latest"),[{name:"Dummy MWU Encoder",author:"dev-team@jina.ai",description:"a minimum working unit of a containerized encoder",keywords:["Search","encode"],version:"0.0.1","jina-version":"0.10.1"},{name:"Dummy MWU Encoder",author:"dev-team@jina.ai",description:"a minimum working unit of a containerized encoder",keywords:["Search","encode"],version:"0.0.2","jina-version":"0.10.1"}].map((function(e){return r.a.createElement(_,{image:e,key:"".concat(e.name,".").concat(e.version,".").concat(e["jina-version"])})})))},F=a(15),A=a(29),T=a(36),I=a(2),D=a(16),P=a(5),R=a.n(P),M=a(13),W=a(68),H=a(84),B=a.n(H),U=a(218),G=function(){var e=Object(M.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("https://hubapi.jina.ai/images",{params:t,paramsSerializer:function(e){return J(e)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){return U.stringify(e,{arrayFormat:"comma",skipNull:!0})},z={kind:[],keywords:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;return function(){var t=Object(M.a)(R.a.mark((function t(a){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:W.a}),t.next=4,G(e);case 4:n=t.sent,a(V(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(Y());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return{type:W.c,payload:{images:e}}},Y=function(){return{type:W.b}},K=function(e){return e.hubState.images};function $(){var e=Object(u.a)(["\n  border: ",";\n  border-radius: 0.25rem;\n  padding: 0.25rem;\n"]);return $=function(){return e},e}function X(){var e=Object(u.a)(["\n  margin-right: -1rem;\n  opacity: 0;\n"]);return X=function(){return e},e}function Q(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Q=function(){return e},e}function Z(){var e=Object(u.a)(["\n  font-weight: 500;\n  font-size: 1.25rem;\n"]);return Z=function(){return e},e}var ee=function(e){return Object.keys(e.values).reduce((function(t,a){return e.values[a]?[].concat(Object(A.a)(t),[a]):t}),[])},te=i.a.div(Z()),ae=i.a.div(Q()),ne=i.a.input(X()),re=i.a.label($(),(function(e){return e.checked?"1px solid #007AFF":"none"})),ce=function(e){e.filter;var t=e.value,a=e.label,c=e.filterCategoryIndex,o=e.handleFilterChange,s=Object(n.useState)(t),l=Object(F.a)(s,2),u=l[0],i=l[1];return r.a.createElement(re,{checked:u},r.a.createElement(ne,{type:"checkbox",checked:u,onChange:function(){return i(!u),void o(c,a,!u)}}),a)},oe=function(e){var t=e.filters,a=e.setFilters,n=e.getHubImages,c=function(e,r,c){t[e].values[r]=c,a(t),n(function(e){return{kind:ee(e[0]),keywords:ee(e[1])}}(t))};return r.a.createElement("div",{"data-name":"hubImagesFilter"},t&&t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(te,null,e.filterLabel),r.a.createElement(ae,null,Object.keys(e.values).map((function(a){return r.a.createElement(ce,{filter:e,value:e.values[a],key:a,label:a,filterCategoryIndex:t,handleFilterChange:c})}))))})))},se=function(e){return e.filter((function(t,a){return e.indexOf(t)===a}))},le=function(e){return e.reduce((function(e,t){return Object(I.a)(Object(I.a)({},e),{},Object(T.a)({},t,!1))}),{})},ue=function(){var e=Object(D.b)(),t=Object(D.c)(K),a=Object(n.useState)([]),c=Object(F.a)(a,2),o=c[0],l=c[1];Object(n.useEffect)((function(){var e;t&&l([{filterLabel:"Type of image",values:le(se((e=t).reduce((function(e,t){return[].concat(Object(A.a)(e),[t.kind])}),[])))},{filterLabel:"Key domain of the image",values:le(se(e.reduce((function(e,t){return[].concat(Object(A.a)(e),Object(A.a)(t.keywords))}),[])))}])}),[t]),Object(n.useEffect)((function(){e(q())}),[e]);var u=Object(n.useCallback)((function(t){e(q(t))}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(E.a,{md:"2"},r.a.createElement(oe,{filters:o,setFilters:l,getHubImages:u})),r.a.createElement(E.a,{md:"10"},r.a.createElement(s.a,{"data-name":"hubImagesList"},t.map((function(e){return r.a.createElement(E.a,{key:"".concat(e.name,".").concat(e.version,".").concat(e["jina-version"]),md:"4",className:"mb-4"},r.a.createElement(_,{image:e}))}))))))};t.a=function(){var e=Object(c.i)().path;return r.a.createElement(o.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:e},r.a.createElement(s.a,{className:"page-header"},r.a.createElement(l.a,{title:"Jina Hub",className:"text-sm-left mb-3"})),r.a.createElement(s.a,null,r.a.createElement(h,null)),r.a.createElement(L,null)),r.a.createElement(c.b,{path:"".concat(e,"/explore")},r.a.createElement(ue,null)))))}},122:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(13),o=a(60),s=a(62),l=a(61),u=a(0),i=a.n(u),m=a(604),d=a(601),p=a(163),f=a(17),b=a(6);function g(e){var t=e.image.buildHistory;return i.a.createElement(b.d,{className:"readme-container mb-4"},i.a.createElement(b.f,{className:"border-bottom d-flex flex-row"},i.a.createElement("h6",{className:"m-0 d-inline-block"},"Build History")),i.a.createElement(b.e,{className:"p-0 build-history"},t&&t.map((function(e,t){var a=new Date(e.created).toLocaleString(),n=(e.size/1e6).toFixed(2);return i.a.createElement("div",{key:t,className:"user-activity__item pr-3 py-3"},i.a.createElement("div",{className:"user-activity__item__icon mt-2"},i.a.createElement("i",{className:"material-icons"},"build")),i.a.createElement("div",{className:"user-activity__item__content"},i.a.createElement("span",{className:"text-light"},a),i.a.createElement("p",null,"[",e.os,"/",e.architecture,"] ",n," MB")))}))))}var v=a(39);function h(e){var t=e.image;return i.a.createElement(b.d,{className:"readme-container mb-4"},i.a.createElement(b.f,{className:"border-bottom d-flex flex-row"},i.a.createElement("h6",{className:"m-0 d-inline-block"},"Image Details")),i.a.createElement(b.e,{className:"pt-0 pb-2"},i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Name"),i.a.createElement(b.g,null,t.name)),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Version"),i.a.createElement(b.g,null,t.version)),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Author"),i.a.createElement(b.g,null,t.author)),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Description"),i.a.createElement(b.g,null,t.description)),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Documentation"),i.a.createElement(b.g,null,i.a.createElement("a",{href:t.documentation,target:"_blank",rel:"noopener noreferrer"},t.documentation))),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Source"),i.a.createElement(b.g,null,i.a.createElement("a",{href:t.source,target:"_blank",rel:"noopener noreferrer"},t.source))),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"License"),i.a.createElement(b.g,null,t.license)),i.a.createElement(b.p,{className:"border-bottom py-2"},i.a.createElement(b.g,null,"Vendor"),i.a.createElement(b.g,null,t.vendor)),i.a.createElement(b.p,{className:"py-2"},i.a.createElement(b.g,null,"URL"),i.a.createElement(b.g,null,i.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url)))))}function w(e){var t=e.readme,a=e.documentation;return i.a.createElement(b.d,{className:"readme-container mb-4"},i.a.createElement(b.f,{className:"border-bottom d-flex flex-row"},i.a.createElement("h6",{className:"m-0 d-inline-block"},"README.MD"),i.a.createElement("div",{className:"flex-fill d-inline-block"}),i.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-primary"},i.a.createElement("i",{className:"fab fa-github"})," View on GitHub")),i.a.createElement(b.e,null,t?i.a.createElement("div",{className:"markup",dangerouslySetInnerHTML:{__html:t}}):i.a.createElement("h2",{className:"text-muted text-center py-4"},"No Readme Found")))}var E=a(608),y=a(605);function O(e){var t=e.image,a=e.copyCode,n=t.repoTags[t.repoTags.length-1],r=["from jina.flow import Flow\nf = Flow().add(name='my-pod', image='".concat(n,"')"),"from jina.flow import Flow\n# assuming you have a running gateway on 192.168.0.123:45678\nf = Flow().add(name='my-pod', image='".concat(n,"', yaml_path='my.yml')"),"from jina.flow import Flow\n# assuming you have a running gateway on 192.168.0.123:45678\nf = Flow().add(name='my-pod', image='".concat(n,"', host='192.168.0.123', port_grpc=45678)"),'!Flow\npods:\n  my_pod1:\n    image: "'.concat(n,'"'),"jina pod --image ".concat(n),"docker run -p 55555:55555 -p 55556:55556 ".concat(n," --port-in 55555 --port-out 55556"),"docker run -v $(pwd)/my.yml:/my.yml ".concat(n," --yaml-path /my.yml")];return i.a.createElement(b.d,{className:"mb-4"},i.a.createElement(b.f,{className:"p-3 border-bottom d-flex flex-row"},i.a.createElement("h6",{className:"m-0 d-inline-block"},"Usage")),i.a.createElement(b.e,{className:"py-2 px-3 pt-4 code-usage"},i.a.createElement("p",{className:"mb-1"},"Use this image in Flow API"),i.a.createElement(E.a,{language:"python",style:y.a,onClick:function(){return a(r[0])}},r[0]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Flow API and override YAML"),i.a.createElement(E.a,{language:"python",style:y.a,onClick:function(){return a(r[1])}},r[1]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image remotely in Flow API"),i.a.createElement(E.a,{language:"python",style:y.a,onClick:function(){return a(r[2])}},r[2]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Flow YAML"),i.a.createElement(E.a,{language:"yaml",style:y.a,onClick:function(){return a(r[3])}},r[3]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Jina CLI"),i.a.createElement(E.a,{language:"bash",style:y.a,onClick:function(){return a(r[4])}},r[4]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Docker CLI"),i.a.createElement(E.a,{language:"bash",style:y.a,onClick:function(){return a(r[5])}},r[5]),i.a.createElement("p",{className:"mb-1 mt-4"},"Use this image in Docker CLI and override YAML"),i.a.createElement(E.a,{language:"bash",style:y.a,onClick:function(){return a(r[6])}},r[6])))}function x(e){e.reviews;var t=e.newReview;return i.a.createElement("div",null,i.a.createElement("div",{className:"border-bottom d-flex flex-row mb-4"},i.a.createElement("h3",{className:"flex-fill"},"Reviews"),i.a.createElement("div",null,i.a.createElement(b.b,{onClick:t},i.a.createElement("i",{className:"material-icons mr-2"},"add_comment"),"New Review"))))}var k=a(22),j=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getImageData()},n.componentWillUnmount=function(){f.c.removeListener("update-hub",n.getImageData)},n.getImageData=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.c.getHubImage(n.state.imageId);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,n.setState({imageData:t,loading:!1});case 7:case"end":return e.stop()}}),e)}))),n.copyCode=function(e){Object(k.a)(e),f.b.dispatch({actionType:f.a.SHOW_BANNER,payload:["Content copied to clipboard","success"]})},n.newReview=function(){var e=n.state.imageData.id;f.b.dispatch({actionType:f.a.SHOW_MODAL,payload:{modal:"review",modalParams:{imageId:e}}})},n.render=function(){var e=n.state,t=e.imageData,a=e.loading,r=t.name,c=t.readmeHTML,o=t.documentation,s=t.reviews;return i.a.createElement(m.a,{fluid:!0,className:"main-content-container px-0"},a?i.a.createElement("div",{className:"error"},i.a.createElement("div",{className:"loader"})):i.a.createElement("div",{className:"px-4"},i.a.createElement(d.a,{noGutters:!0,className:"page-header mb-4"},i.a.createElement(v.a,{title:r,className:"text-sm-left mb-3"}),i.a.createElement(p.a,{md:"6"})),i.a.createElement(d.a,null,i.a.createElement(p.a,{md:"6"},i.a.createElement(O,{image:t,copyCode:n.copyCode}),i.a.createElement(h,{image:t}),i.a.createElement(g,{image:t})),i.a.createElement(p.a,{md:"6"},i.a.createElement(w,{readme:c,documentation:o}),i.a.createElement(x,{reviews:s,newReview:n.newReview})))))};var s=window.location.hash,l=s.substring(s.indexOf("?"),s.length),u=new URLSearchParams(l).get("id");return n.state={imageId:u,loading:!1,imageData:{reviews:[],repoTags:[]}},f.c.on("update-hub",n.getImageData),n}return a}(i.a.Component);t.a=j},167:function(e,t,a){},168:function(e,t,a){},17:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return o}));var n=a(336).Dispatcher,r=a(593).Store,c=a(340).Constants,o=a(341).transformLog},21:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return m}));var n=a(33),r=a(42),c=a(50);function o(e,t){return function(a){a(function(e,t){return{type:n.b,payload:{connected:e,message:t}}}(e,t)),e&&a(l(t,"success"))}}function s(){return{type:n.h}}function l(e,t){return function(a){a(function(e,t){return{type:n.e,payload:{message:e,theme:t}}}(e,t)),setTimeout((function(){a({type:n.c})}),n.d)}}function u(e,t){return{type:n.g,payload:{modal:e,modalParams:t||null}}}function i(){return{type:n.a}}function m(){return function(e){var t=r.a.getState().settingsState.settings;c.a.connect(t,(function(t){var a=t.connected,n=t.message;e(o(a,n))}))}}},22:function(e,t,a){"use strict";a.d(t,"g",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"c",(function(){return p.b})),a.d(t,"e",(function(){return p.c})),a.d(t,"b",(function(){return p.a})),a.d(t,"f",(function(){return p.e})),a.d(t,"a",(function(){return f}));var n=function(e){return new Blob([e],{type:"text,plain;charset=utf-8"})},r=function(e){return n(function(e){return e.reduce((function(e,t){return e+"".concat(t.uptime,',"').concat(t.formattedTimestamp,'",').concat(t.name,",").concat(t.process,",").concat(t.level,',"').concat(t.message,'",').concat(t.context,",").concat(t.host,",").concat(t.workspace_path,"\n")}),"created,formatted timestamp,name,process,level name,message,context,host,workspace\n")}(e))},c=function(e){return n(function(e){var t=e.reduce((function(t,a,n){return t+(JSON.stringify(a)+"".concat(n<e.length-1?",":"","\n"))}),"\n");return"[".concat(t,"]")}(e))},o=function(e){return n(function(e){return e.reduce((function(e,t){return e+"".concat(t.formattedTimestamp," ").concat(t.name,"@").concat(t.process," [").concat(t.level,"]: ").concat(t.message,"\n")}),"")}(e))},s=a(2),l=a(234),u=function(e){var t,a,n,r=e.pods,c=null===(t=e.with)||void 0===t||null===(a=t.board)||void 0===a?void 0:a.canvas,o={offset:{x:0,y:0},nodes:{},links:{},selected:{},hovered:{},scale:1,with:e.with},u={},m={},d=!1;if(null===(n=e.version)||void 0===n?void 0:n.includes("1")){var p={};r.forEach((function(e){var t=e.name;delete e.name,p[t]=Object(s.a)({},e)})),r=p}if(!r.gateway){var f;f=Object(s.a)({gateway:null},r),r=f}Object.keys(r).forEach((function(e){var t=r[e]||{},a={type:"input-output",id:e,label:e,ports:{},needs:{},send_to:{},position:{},properties:Object(s.a)({},t)};if(a.properties.needs&&delete a.properties.needs,a.ports.inPort={id:"inPort",type:"input"},a.ports.outPort={id:"outPort",type:"output"},d&&!t.needs&&"gateway"!==e&&(t.needs=d),t.needs)for(var n=Array.isArray(t.needs)?t.needs:[t.needs],o=0;o<n.length;++o){var l=n[o];a.needs[l]=!0;var i="".concat(l,"-to-").concat(e),p={color:"red",id:i,from:{nodeId:l,portId:"outPort"},to:{nodeId:e,portId:"inPort"}};m[i]=p}if(c&&c[e]){var f=c[e],b=f.x,g=f.y;a.position={x:parseInt(b),y:parseInt(g)}}u[e]=a,d=e}));var b={},g=l.nodeOffset.x,v=l.nodeOffset.y;return Object.keys(u).forEach((function(e){var t=i(u,e,0);u[e].depth=t,b[t]>=0?b[t]++:b[t]=0,u[e].position.x||(u[e].position={y:t*v+v,x:b[t]*g+g})})),o.nodes=u,o.links=m,o};function i(e,t,a){for(var n=Object.keys(e[t].needs),r=0,c=0;c<n.length;++c){var o=n[c],s=void 0;(s=e[o].depth?e[o].depth+1:i(e,o,1))>r&&(r=s)}return a+r}var m=a(72);function d(e,t){var a=e.uptime,n=e.type,r=Object(m.a)(),c=new Date(a),o=Math.floor(c.valueOf()/1e3),l=c.toLocaleString();return Object(s.a)(Object(s.a)({},e),{},{id:r,idx:t,unixTime:o,timestamp:c,formattedTimestamp:l,level:n})}var p=a(67),f=function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},234:function(e,t,a){"use strict";a.r(t),a.d(t,"nodeOffset",(function(){return n}));var n={x:250,y:150}},24:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return o})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"j",(function(){return u})),a.d(t,"c",(function(){return i})),a.d(t,"g",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"k",(function(){return p}));var n="LOAD_FLOW",r="CREATE_NEW_FLOW",c="UPDATE_FLOW",o="UPDATE_FLOW_PROPERTIES",s="DUPLICATE_FLOW",l="DELETE_FLOW",u="UPDATE_NODE",i="DELETE_NODE",m="RERENDER",d="IMPORT_FLOW",p={selected:{},hovered:{},scale:1,nodes:{gateway:{id:"gateway",type:"input-output",label:"gateway",ports:{outPort:{id:"outPort",type:"output"}},properties:{},position:{x:629,y:72}}},links:{},offset:{x:0,y:0}}},31:function(e,t,a){"use strict";a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return b})),a.d(t,"j",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"e",(function(){return w})),a.d(t,"b",(function(){return E})),a.d(t,"k",(function(){return y})),a.d(t,"c",(function(){return O})),a.d(t,"g",(function(){return x})),a.d(t,"h",(function(){return k})),a.d(t,"i",(function(){return j}));var n=a(5),r=a.n(n),c=a(2),o=a(13),s=a(24),l=a(21),u=a(117),i=a(42),m=a(22),d=a(10),p=a(50);function f(e){return{type:s.f,payload:e}}function b(){return{type:s.a}}function g(e){return{type:s.h,payload:e}}function v(e){return{type:s.i,payload:e}}function h(e){return{type:s.d,payload:e}}function w(e){return{type:s.e,payload:e}}function E(e){return{type:s.b,payload:e}}function y(e,t){return{type:s.j,payload:{nodeId:e,nodeUpdate:t}}}function O(e){return{type:s.c,payload:e}}function x(){return{type:s.g}}function k(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,s,u,f,b,g;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.a.log("starting flow: ",e),n=i.a.getState().flowState.flows[e],o=n.flow,d.a.log("starting flow chart: ",o),s=Object(m.b)(o),d.a.log("starting flow yaml: ",o),t.next=8,p.a.startFlow(s);case 8:if(u=t.sent,f=u.status,b=u.message,g=u.flow_id,a(v(Object(c.a)(Object(c.a)({},n),{},{flow_id:g}))),"error"!==f){t.next=13;break}return t.abrupt("return",a(Object(l.d)(b,"error")));case 13:a(Object(l.d)(b,"success")),a(N(e));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function j(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,c,o,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.a.log("stop flow: ",e),n=i.a.getState().flowState.flows[e],c=n.flow_id,d.a.log("flowProperties:",n),d.a.log("flow_id:",c),c){t.next=7;break}return t.abrupt("return",a(Object(l.d)("Flow is not deployed","error")));case 7:return t.next=9,p.a.terminateFlow(c);case 9:if(o=t.sent,s=o.status,u=o.message,d.a.log("stopFlow result: ",o),"error"!==s){t.next=14;break}return t.abrupt("return",a(Object(l.d)(u,"error")));case 14:a(Object(l.d)(u,"success"));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function N(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,s,m;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.a.getState().flowState.flows[e],o=n.flow_id){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,p.a.getFlow(o);case 6:if(s=t.sent,d.a.log("got network flow:",s),"error"!==s.status){t.next=11;break}return s.message&&a(Object(l.d)(s.message,"error")),t.abrupt("return");case 11:m=s.flow.workspace_id,a(v(Object(c.a)(Object(c.a)({},n),{},{workspace_id:m}))),setTimeout((function(){return a(Object(u.a)(m,o))}),5e3);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},33:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"h",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return s})),a.d(t,"g",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"i",(function(){return m}));var n="HANDLE_CONNECTION_STATUS",r="TOGGLE_SIDE_BAR",c="SHOW_BANNER",o="HIDE_BANNER",s="SHOW_ERROR",l="SHOW_MODAL",u="CLOSE_MODAL",i=5e3,m={user:null,banner:null,connected:!1,currentTab:"logStream",loading:!0,menuVisible:!1,modal:null,modalParams:null,navItems:[{title:"Home",to:"/home",iconName:"home",matches:["home"]},{title:"Log Stream",to:"/logs",iconName:"insert_comment",matches:["logs"]},{title:"Flow Design",to:"/flow",iconName:"device_hub",matches:["flow"]},{title:"Hub",to:"/hub",iconName:"store",matches:["hub","package"]},{title:"Settings",to:"/settings",iconName:"settings",matches:["settings"]},{title:"Help",to:"/help",iconName:"help",matches:["help"]}],processes:[]}},336:function(e,t,a){"use strict";a.r(t),a.d(t,"Dispatcher",(function(){return n}));var n=new(0,a(337).Dispatcher)},34:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s}));var n="SHOW_LOG_INDEX",r="HANDLE_NEW_LOG",c={logIndex:0,logLevelOccurrences:{},logs:[],logLevels:{INFO:0,SUCCESS:0,WARNING:0,ERROR:0,CRITICAL:0,DEBUG:0},logSources:{}},o=function(){return{lastLog:0,levels:{INFO:0,SUCCESS:0,WARNING:0,ERROR:0,CRITICAL:0,DEBUG:0}}},s=[{name:"uses",type:"str"},{name:"replicas",type:"int"},{name:"read_only",type:"bool"},{name:"separated_workspace",type:"bool"},{name:"host",type:"str"},{name:"port_grpc",type:"int"},{name:"identity",type:"str"},{name:"image",type:"str"},{name:"entrypoint",type:"str"},{name:"pull_latest",type:"bool"},{name:"volumes",type:"str"},{name:"port_in",type:"int"},{name:"port_out",type:"int"},{name:"host_in",type:"str"},{name:"host_out",type:"str"},{name:"socket_in",type:"SocketType"},{name:"socket_out",type:"SocketType"},{name:"port_ctrl",type:"int"},{name:"ctrl_with_ipc",type:"bool"},{name:"timeout",type:"int"},{name:"timeout_ctrl",type:"int"},{name:"timeout_ready",type:"int"},{name:"dump_interval",type:"int"},{name:"exit_no_dump",type:"bool"},{name:"replica_id",type:"int"},{name:"check_version",type:"bool"},{name:"array_in_pb",type:"bool"},{name:"num_part",type:"int"},{name:"memory_hwm",type:"int"},{name:"runtime",type:"str"},{name:"max_idle_time",type:"int"},{name:"log_sse",type:"bool"},{name:"log_remote",type:"bool"},{name:"log_profile",type:"bool"},{name:"max_message_size",type:"int"},{name:"proxy",type:"bool"},{name:"replica_type",type:"ReplicaType"},{name:"shutdown_idle",type:"bool"}]},340:function(e,t,a){"use strict";a.r(t),a.d(t,"Constants",(function(){return n}));var n={TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_CURRENT_TAB:"SET_CURRENT_TAB",SELECT_NODE:"SELECT_NODE",IMPORT_CUSTOM_YAML:"IMPORT_CUSTOM_YAML",SHOW_MODAL:"SHOW_MODAL",CLOSE_MODAL:"CLOSE_MODAL",SHOW_LOG_AT_INDEX:"SHOW_LOG_AT_INDEX",SAVE_SETTINGS:"SAVE_SETTINGS",RECONNECT:"RECONNECT",POST_REVIEW:"POST_REVIEW",POST_RATING:"POST_RATING",LOG_OUT:"LOG_OUT",SEARCH_HUB:"SEARCH_HUB",SHOW_BANNER:"SHOW_BANNER",LOAD_FLOW:"LOAD_FLOW",SHOW_POD_IN_FLOW:"SHOW_POD_IN_FLOW",CREATE_NEW_FLOW:"CREATE_NEW_FLOW",UPDATE_FLOW:"UPDATE_FLOW",DUPLICATE_FLOW:"DUPLICATE_FLOW",DELETE_FLOW:"DELETE_FLOW",START_FLOW:"START_FLOW",STOP_FLOW:"STOP_FLOW"}},341:function(e,t,a){"use strict";a.r(t),a.d(t,"transformLog",(function(){return c}));var n=a(2),r=a(72);function c(e,t){var a=e.uptime,c=e.type,o=Object(r.a)(),s=new Date(a),l=Math.floor(s.valueOf()/1e3),u=s.toLocaleString();return Object(n.a)(Object(n.a)({},e),{},{id:o,idx:t,unixTime:l,timestamp:s,formattedTimestamp:u,level:c})}},38:function(e,t,a){"use strict";a.d(t,"b",(function(){return Oe})),a.d(t,"a",(function(){return xe}));var n=a(15),r=a(0),c=a.n(r),o=a(6);function s(){return c.a.createElement("div",{className:"main-navbar__search w-100 d-none d-md-flex d-lg-flex"})}function l(e){var t=e.toggleSidebar;return c.a.createElement("nav",{className:"nav cursor-pointer"},c.a.createElement("span",{onClick:t,className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-inline d-lg-none text-center"},c.a.createElement("i",{className:"material-icons"},"\ue5d2")))}function u(e){var t=e.connected,a=e.reconnect;return c.a.createElement(o.l,{className:"dropdown notifications",onClick:a},c.a.createElement(o.m,{className:"nav-link-icon text-center"},c.a.createElement("div",{className:"nav-link-icon__wrapper"},c.a.createElement("i",{className:"material-icons"},"language"),t?c.a.createElement(o.a,{pill:!0,theme:"success",className:"connection-indicator p-1"},c.a.createElement("i",{className:"material-icons"},"done")):c.a.createElement(o.a,{pill:!0,theme:"danger",className:"connection-indicator p-1"},c.a.createElement("i",{className:"material-icons"},"close")))))}function i(){return c.a.createElement(o.o,{href:"#",style:{lineHeight:"25px"}},c.a.createElement("div",{className:"d-table m-auto"},c.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top mr-1 ml-3",style:{maxWidth:"25px"},src:"/icon.png",alt:"Jina"})))}function m(e){var t=e.usesConnection,a=e.toggleSidebar,n=e.reconnect,r=e.connected,m=e.hideSidebarToggle,d=e.showLogo;return c.a.createElement("div",{className:"main-navbar"},c.a.createElement(o.h,{fluid:!0,className:"p-0"},c.a.createElement(o.n,{type:"light",className:"align-items-stretch flex-md-nowrap p-0 px-2"},d&&c.a.createElement(i,null),c.a.createElement(s,null),c.a.createElement(o.k,{navbar:!0,className:"flex-row"},t&&c.a.createElement(u,{reconnect:n,connected:r})),!m&&c.a.createElement(l,{toggleSidebar:a}))))}var d=a(4),p=a.n(d),f=function(e){var t=e.toggleSidebar;return c.a.createElement("div",{className:"main-navbar"},c.a.createElement(o.n,{className:"align-items-stretch bg-white flex-md-nowrap p-0",type:"light"},c.a.createElement(o.o,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"}},c.a.createElement("div",{className:"d-table m-auto"},c.a.createElement("img",{id:"main-logo",className:"d-inline-block align-top",style:{maxWidth:"50px"},src:"/jina-light.svg",alt:"Jina Dashboard"}))),c.a.createElement("span",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:t},c.a.createElement("i",{className:"material-icons"},"\ue5c4"))))},b=a(28),g=a(70),v=function(e){var t,a,n=e.item,r=e.toggleSidebar,s=null===(t=Object(b.h)())||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.substring(1),l=!1;return n.matches.forEach((function(e){s===e&&(l=!0)})),c.a.createElement(o.l,{style:{position:"relative"}},c.a.createElement(o.m,{tag:g.b,to:n.to,active:l,onClick:r},n.iconName&&c.a.createElement("div",{className:"d-inline-block item-icon-wrapper"},c.a.createElement("i",{className:"material-icons"},n.iconName)),n.title&&c.a.createElement("span",null,n.title)))},h=function(e){var t=e.navItems,a=e.toggleSidebar;return c.a.createElement("div",{className:"nav-wrapper"},"undefined"!==typeof t&&t.length&&c.a.createElement(o.k,{className:"nav--no-borders flex-column"},t.map((function(e,t){return c.a.createElement(v,{key:t,item:e,toggleSidebar:a})}))))};var w=function(e){var t=e.menuVisible,a=e.sidebarNavItems,n=e.toggleSidebar,r=p()("main-sidebar","px-0","col-12",t&&"open");return c.a.createElement(o.g,{tag:"aside",className:r,lg:{size:2},md:{size:3}},c.a.createElement(f,{toggleSidebar:n}),c.a.createElement(h,{navItems:a,toggleSidebar:n}))},E=function(e){var t=e.menuItems,a=e.copyright,n=e.loggerEnabled,r=e.enableLogger,s=e.disableLogger,l=e.exportLogs;return c.a.createElement("footer",{className:"main-footer d-flex p-2 px-3"},c.a.createElement(o.h,{fluid:!0},c.a.createElement(o.p,null,c.a.createElement(o.k,null,t.map((function(e,t){return c.a.createElement("a",{key:t,href:e.to,className:"nav-link"},e.title)})),n?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:s},"Exit Debug Mode"),c.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:l},"Export Debug Data")):c.a.createElement("span",{className:"nav-link text-warning cursor-pointer",onClick:r},"Debug Mode")),c.a.createElement("span",{className:"copyright ml-auto my-auto mr-2"},a))))};E.defaultProps={contained:!1,copyright:"Copyright \xa9 Jina AI Limited",menuItems:[{title:"Home",to:"https://jina.ai"},{title:"Open Source",to:"https://opensource.jina.ai"},{title:"Learn",to:"https://docs.jina.ai"},{title:"Community",to:"https://twitter.com/JinaAI_"},{title:"Jobs",to:"https://www.linkedin.com/company/jinaai/jobs/"},{title:"Privacy & Terms",to:"https://github.com/jina-ai/legal"}]};var y=E,O=a(610);function x(e){var t=e.acceptCookies;return c.a.createElement("div",{className:"cookies-banner"},c.a.createElement("p",{className:"mb-2"},'We and third parties use cookies or similar technologies ("Cookies") as described below to collect and process personal data, such as your IP address or browser information. You can learn more about how this site uses Cookies by reading our privacy policy linked below. By clicking "I consent to cookies", you accept the placement and use of these Cookies for these purposes. You can change your mind and revisit your preferences at any time by accessing the \u201cCookie Preferences\u201d link in the footer of this site.'),c.a.createElement(O.a,{className:"ml-auto d-block",onClick:t},"I consent to cookies"))}var k=a(607);function j(e){var t=e.data;if(!t)return null;var a,n="success"===(a=t.theme)?c.a.createElement("i",{className:"material-icons mr-1"},"check_circle_outline"):"error"===a?c.a.createElement("i",{className:"material-icons mr-1"},"cerror_outline"):c.a.createElement("i",{className:"material-icons mr-1"},"warning");return c.a.createElement("div",{"data-name":"connection-notification-online",className:"notifications-container"},c.a.createElement(k.a,{className:"toast-".concat(t.theme," text-white")},c.a.createElement(k.a.Header,{className:"text-white",closeButton:!1},c.a.createElement("strong",{className:"mr-auto"},n,c.a.createElement("span",{className:"text-uppercase"},t.theme))),c.a.createElement(k.a.Body,{className:"text-white"},t.message)))}var N=a(601),_=a(163);function C(e){var t=e.reconnect;return c.a.createElement("div",{className:"notifications-container","data-name":"connection-notification-offline"},c.a.createElement(k.a,{className:"bg-warning"},c.a.createElement(k.a.Header,{className:"bg-warning text-white",closeButton:!1},c.a.createElement("strong",{className:"mr-auto"},c.a.createElement("i",{className:"material-icons mr-1"},"warning"),"Could not connect to Jina instance")),c.a.createElement(k.a.Body,{className:"text-white"},c.a.createElement(N.a,null,c.a.createElement(_.a,{xs:"6",className:"pr-2"},c.a.createElement("a",{href:"https://github.com/jina-ai/dashboard#getting-started",target:"_blank",rel:"noopener noreferrer",className:"mr-2"},c.a.createElement(O.a,{variant:"light",className:"w-100"},c.a.createElement("i",{className:"material-icons mr-1"},"text_snippet"),"View Docs"))),c.a.createElement(_.a,{xs:"6",className:"pl-2"},c.a.createElement(O.a,{variant:"primary",className:"w-100",onClick:t},c.a.createElement("i",{className:"material-icons mr-1"},"refresh"),"Refresh"))))))}var S=a(606),L=a(59),F=a.n(L),A={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},T=function(e){var t,a=e.open,n=e.closeModal,r=e.importYAML;return c.a.createElement(F.a,{ariaHideApp:!1,isOpen:a,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:A,onRequestClose:n,closeTimeoutMS:100},c.a.createElement("div",{className:"modal-header p-0"},c.a.createElement("h4",null,c.a.createElement("b",null,"Import YAML")),c.a.createElement("h4",null,c.a.createElement("span",{className:"float-right close-icon"},c.a.createElement("i",{className:"material-icons",onClick:n},"close")))),c.a.createElement("div",{className:"modal-body px-0 pb-0"},c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Label,null,"Custom YAML:"),c.a.createElement(S.a.Control,{placeholder:"Paste Here",ref:function(e){return t=e},as:"textarea",rows:10}))),c.a.createElement(O.a,{className:"btn-primary",onClick:function(){return r(t.value)}},"Continue"))},I={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},D=function(e){var t,a=e.open,n=e.closeModal,r=e.submitReview;return c.a.createElement(F.a,{ariaHideApp:!1,isOpen:a,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:I,onRequestClose:n,closeTimeoutMS:100},c.a.createElement("div",{className:"modal-header p-0"},c.a.createElement("h4",null,c.a.createElement("b",null,"Write a Review")),c.a.createElement("h4",null,c.a.createElement("span",{className:"float-right close-icon"},c.a.createElement("i",{className:"material-icons",onClick:n},"close")))),c.a.createElement("div",{className:"modal-body px-0 pb-0"},c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Control,{placeholder:"Tell the world about your experience",ref:function(e){return t=e},as:"textarea",rows:10}))),c.a.createElement(O.a,{className:"btn-primary",onClick:function(){return r(t.value)}},"Submit"))},P={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",maxHeight:"80%",left:"50%",padding:"2rem",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",width:"90%",maxWidth:"800px",overflow:"hidden"}},R=["message","unixTime"],M=function(e){var t=e.open,a=e.closeModal,r=e.modalParams,o=(null===r||void 0===r?void 0:r.log)||{};return c.a.createElement(F.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:P,onRequestClose:a,closeTimeoutMS:100},c.a.createElement("div",{className:"modal-header p-0"},c.a.createElement("h4",null,c.a.createElement("b",null,"Log Details")),c.a.createElement("h4",null,c.a.createElement("span",{className:"float-right close-icon"},c.a.createElement("i",{className:"material-icons",onClick:a},"close")))),c.a.createElement("div",{className:"modal-body px-0 pb-0 pt-1"},c.a.createElement(N.a,{className:"px-3"},c.a.createElement(_.a,{xs:"3",className:"border-bottom pb-1 px-0"},c.a.createElement("span",{className:"text-bold"},"msg")),c.a.createElement(_.a,{xs:"9",className:"border-bottom pb-1 px-0"},o.message)),Object.entries(o).filter((function(e){var t=Object(n.a)(e,2),a=t[0];t[1];return!R.includes(a)})).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return"message"===a?"":c.a.createElement(N.a,{className:"px-3",key:a},c.a.createElement(_.a,{xs:"3",className:"border-bottom pb-1 px-0"},c.a.createElement("span",{className:"text-bold"},a)),c.a.createElement(_.a,{xs:"9",className:"border-bottom pb-1 px-0"},JSON.stringify(r)))}))))},W=a(10),H=a(17),B=a(16),U=a(58),G=a(42),J=a(18),z=a(19),q=a(21),V=a(31),Y=a(49);function K(){var e=Object(J.a)(["\n  color: black;\n  font-size: 18px;\n  font-weight: 600;\n  text-align: center;\n"]);return K=function(){return e},e}function $(){var e=Object(J.a)(["\n  cursor: pointer;\n  background-color: #ffffff;\n  width: 12rem;\n  height: 12rem;\n  margin: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return $=function(){return e},e}function X(){var e=Object(J.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 1rem 0 1rem;\n  margin-bottom: 1rem;\n"]);return X=function(){return e},e}function Q(){var e=Object(J.a)(["\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  font-size: 2rem;\n  color: #ffffff;\n  float: right;\n  line-height: 100%;\n"]);return Q=function(){return e},e}var Z={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{backgroundColor:"#EBE8E8",border:"none",bottom:"auto",maxHeight:"80%",left:"50%",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",maxWidth:"44rem",overflow:"hidden"}},ee=z.a.div(Q()),te=z.a.div(X()),ae=z.a.div($()),ne=function(){return c.a.createElement("i",{style:{fontSize:"6rem",color:"#C4C4C4",marginBottom:"-1rem"},className:"material-icons"},"add")},re=z.a.span(K()),ce=function(e){var t=e.open,a=Object(B.b)(),n=Object(B.c)(Y.a),r=function(e,t){switch(e){case"close":a(Object(q.a)());break;case"create from yaml":a(Object(q.e)("import"));break;case"create from template":t&&a(Object(V.d)(t)),a(Object(q.a)());break;case"create empty":a(Object(V.a)()),a(Object(q.a)())}};return c.a.createElement(F.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,style:Z,onRequestClose:function(){return r("close")},closeTimeoutMS:100},c.a.createElement("div",null,c.a.createElement(ee,{onClick:function(){return r("close")}},c.a.createElement("i",{className:"material-icons",onClick:q.a},"close"))),c.a.createElement(te,null,c.a.createElement(ae,{onClick:function(){return r("create empty")}},c.a.createElement(ne,null),c.a.createElement(re,null,"empty flow")),c.a.createElement(ae,{onClick:function(){return r("create from yaml")}},c.a.createElement(ne,null),c.a.createElement(re,null,"from yaml")),n.map((function(e){return c.a.createElement(ae,{onClick:function(){return r("create from template",e[1].yaml)}},c.a.createElement(re,null,e[1].name))}))))},oe=a(2),se=a(34);function le(){var e=Object(J.a)(["\n  width: 97%;\n"]);return le=function(){return e},e}function ue(){var e=Object(J.a)(["\n  width: 97%;\n  background: #f1f3f4;\n  border-radius: 5px;\n  padding: 0.5em;\n  border: 0;\n  margin-bottom: 0.5rem;\n"]);return ue=function(){return e},e}function ie(){var e=Object(J.a)(["\n  width: 104%;\n  margin-bottom: 1rem;\n  border: 0;\n  overflow: hidden;\n  overflow-y: scroll;\n  height: 20rem;\n  border-radius: 0.25em;\n\n  ::-webkit-scrollbar {\n    width: 1rem;\n  }\n\n  ::-webkit-scrollbar * {\n    background: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: #099 !important;\n    border-radius: 1rem;\n  }\n"]);return ie=function(){return e},e}function me(){var e=Object(J.a)(["\n  font-weight: 600;\n  font-size: 20px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n"]);return me=function(){return e},e}function de(){var e=Object(J.a)(["\n  font-weight: 600;\n  font-size: 30px;\n  color: #009999;\n  margin-bottom: 0.5rem;\n"]);return de=function(){return e},e}function pe(){var e=Object(J.a)(["\n  width: 25rem;\n  margin-right: -1rem;\n"]);return pe=function(){return e},e}var fe={overlay:{backgroundColor:"rgba(38, 50, 56, 0.5)"},content:{border:"none",bottom:"auto",left:"50%",position:"fixed",right:"auto",top:"50%",transform:"translate(-50%,-50%)",maxWidth:"30rem",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"}},be=z.a.div(pe()),ge=z.a.header(de()),ve=z.a.header(me()),he=z.a.div(ie()),we=z.a.input(ue()),Ee=Object(z.a)(O.a)(le());var ye=function(e){var t=e.open,a=e.closeModal,o=e.modalParams,s=(null===o||void 0===o?void 0:o.nodeId)||"",l=Object(B.c)(Y.b),u=Object(r.useState)(l.flow.nodes[s]),i=Object(n.a)(u,2),m=i[0],d=i[1],p=Object(r.useState)(""),f=Object(n.a)(p,2),b=f[0],g=f[1],v=Object(r.useState)(se.b),h=Object(n.a)(v,2),w=h[0],E=h[1],y=Object(B.b)();Object(r.useEffect)((function(){var e=se.b.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())}));E(e)}),[b]);var O=m.label||m.properties.name;return c.a.createElement(F.a,{ariaHideApp:!1,isOpen:t,contentLabel:"Action Modal",className:"modal-content tiny-modal px-4 pt-3 pb-4",shouldCloseOnOverlayClick:!0,onRequestClose:a,closeTimeoutMS:100,style:fe},c.a.createElement(be,null,c.a.createElement(ge,null,"pods name"),c.a.createElement(we,{value:O,onChange:function(e){return function(e){var t={label:e};y(Object(V.k)(m.id,t)),d(Object(oe.a)(Object(oe.a)({},m),t)),y(Object(V.g)())}(e.target.value)},className:"pod-name-input"}),c.a.createElement(ge,null,"properties"),c.a.createElement(we,{placeholder:"search properties...",value:b,onChange:function(e){return g(e.target.value)}}),c.a.createElement(he,null,w.map((function(e){var t=e.name,a=e.type;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ve,null,t),c.a.createElement(we,{placeholder:a,type:"int"===a?"number":"text",value:m.properties[t]||"",onChange:function(e){return function(e,t){var a=Object(oe.a)({},m);a.properties[e]=t,y(Object(V.k)(m.id,a)),d(a)}(t,e.target.value)},className:"property-value-input"}))}))),c.a.createElement(Ee,{variant:"danger",onClick:function(){y(Object(V.c)(m.id)),a(),y(Object(V.g)())}},"Delete Pod")))},Oe=function(e){var t=Object(B.c)(U.e),a=Object(B.c)(U.f),s=Object(B.c)(U.c),l=Object(B.c)(U.a),u=Object(B.c)(U.b),i=W.a.isEnabled(),d=Object(B.c)(U.d),p=Object(B.c)(U.g),f=Object(B.c)(U.h),b=Object(r.useState)("true"===localStorage.getItem("accepted-cookies")),g=Object(n.a)(b,2),v=g[0],h=g[1],E=Object(B.b)(),O=function(){E(Object(q.a)())},k=function(){E(Object(q.b)())},N=function(){E(Object(q.f)())},_=e.children,S=e.usesAuth,L=e.usesConnection;return c.a.createElement(o.h,{fluid:!0,className:"icon-sidebar-nav"},c.a.createElement(o.p,null,c.a.createElement(w,{sidebarNavItems:p,menuVisible:d,toggleSidebar:N}),c.a.createElement(o.g,{className:"main-content col",tag:"main"},c.a.createElement(m,{user:f,usesAuth:S,usesConnection:L,logOut:function(){H.b.dispatch({actionType:H.a.LOG_OUT})},toggleSidebar:N,reconnect:k,connected:u}),c.a.createElement(j,{data:l}),L&&!s&&!u&&c.a.createElement(C,{reconnect:k}),_,!v&&c.a.createElement(x,{acceptCookies:function(){localStorage.setItem("accepted-cookies",String(!0)),h(!0)}}),c.a.createElement(y,{loggerEnabled:i,enableLogger:function(){W.a.enable();var e=G.a.getState();W.a.log("Store Snapshot",e),E(Object(q.d)('Debug Mode Enabled. Click "Export Debug Data" to download Debug JSON.',"warning"))},disableLogger:function(){W.a.disable(),E(Object(q.d)("Debug Mode Disabled.","warning"))},exportLogs:function(){var e=G.a.getState();W.a.log("Store Snapshot",e),W.a.exportLogs()}}))),c.a.createElement(M,{open:"logDetails"===t,closeModal:O,modalParams:a}),c.a.createElement(T,{open:"import"===t,closeModal:O,importYAML:function(e){E(Object(V.e)(e)),O()}}),c.a.createElement(ce,{open:"newFlow"===t}),c.a.createElement(D,{open:"review"===t,closeModal:O,submitReview:function(e){if(a){var t=a.imageId;H.b.dispatch({actionType:H.a.POST_REVIEW,payload:{content:e,imageId:t}})}}}),"podEdit"===t&&c.a.createElement(ye,{open:"podEdit"===t,closeModal:O,modalParams:a}))},xe=function(e){var t=H.c.getModal(),a=H.c.getModalParams(),s=H.c.getBanner(),l=W.a.isEnabled(),u=H.c.getUser(),i=Object(r.useState)("true"===localStorage.getItem("accepted-cookies")),d=Object(n.a)(i,2),p=d[0],f=d[1],b=Object(B.b)(),g=e.children,v=e.usesAuth,h=e.usesConnection;return c.a.createElement(o.h,null,c.a.createElement(o.p,null,c.a.createElement(o.g,{className:"main-content col",tag:"main"},c.a.createElement(m,{usesAuth:v,usesConnection:h,logOut:function(){H.b.dispatch({actionType:H.a.LOG_OUT})},hideSidebarToggle:!0,showLogo:!0,user:u}),c.a.createElement(j,{data:s}),g,!p&&c.a.createElement(x,{acceptCookies:function(){localStorage.setItem("accepted-cookies",String(!0)),f(!0)}}),c.a.createElement(y,{loggerEnabled:l,enableLogger:function(){W.a.enable();var e=G.a.getState();W.a.log("Store Snapshot",e),b(Object(q.d)('Debug Mode Enabled. Click "Export Debug Data" to download Debug JSON.',"warning"))},disableLogger:function(){W.a.disable(),b(Object(q.d)("Debug Mode Disabled.","warning"))},exportLogs:function(){var e=H.c.getStoreCopy();W.a.log("Store Snapshot",e),W.a.exportLogs()}}))),c.a.createElement(D,{open:"review"===t,closeModal:function e(){b(e())},submitReview:function(e){var t=a.imageId;H.b.dispatch({actionType:H.a.POST_REVIEW,payload:{content:e,imageId:t}})}}))}},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=a(163);function l(e){var t=e.title,a=e.subtitle,n=e.className,c=o()(n,"text-center","text-md-left","mb-sm-0");return r.a.createElement(s.a,{xs:"12",sm:"3",className:c},r.a.createElement("h3",{className:"page-title","data-name":"title"},t),r.a.createElement("p",{className:"page-subtitle mt-2 mb-0"},a))}},42:function(e,t,a){"use strict";var n=a(78),r=a(36),c=a(2),o=a(15),s=a(41),l=a.n(s),u=a(107),i=a(22),m=a(24),d=a(72),p=function(e){var t={},a=e.flows;Object.entries(a).forEach((function(e){var a=Object(o.a)(e,2),n=a[0],r=a[1];"user-generated"===r.type&&(t[n]=r)})),localStorage.setItem("userFlows",JSON.stringify(t))};var f={rerender:!1,selectedFlow:"_userFlow",flows:Object(c.a)(Object(c.a)({},function(){var e=localStorage.getItem("userFlows"),t=e?JSON.parse(e):null;return l.a.isEmpty(t)?{_userFlow:{name:"Custom Flow 1",type:"user-generated",flow:m.k}}:t}()),function(){var e={};return Object.entries(u.a).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],r=a[1],s=Object(i.f)(r.yaml),l=Object(i.d)(s.data);e[n]=Object(c.a)(Object(c.a)({},r),{},{isConnected:!1,flow:l})})),e}()),tooltipConfig:{tooltipsGlobal:{showTooltip:!0,toogleOffWhenClicked:"global",text:"Hold Shift and click to select multiple nodes"}}};function b(e,t){var a=Object(c.a)(Object(c.a)({},e),{},{flows:l.a.omit(e.flows,t)}),n=Object.entries(e.flows).filter((function(e){var t=Object(o.a)(e,2);t[0];return"example"!==t[1].type}));if(e.selectedFlow===t&&n.length){var r=n[0][0];a.selectedFlow=r}else n.length||(a=Object(c.a)(Object(c.a)({},e),{},{flows:Object(c.a)({_userFlow:{name:"Custom Flow 1",type:"user-generated",isConnected:!1,flow:m.k}},a.flows),selectedFlow:"_userFlow"}));return a}function g(e,t){return v(e,t)}function v(e,t){var a="Custom Flow",n=Object.values(e.flows).filter((function(e){return e.name.startsWith(a)})).map((function(e){return parseInt(e.name.substring(a.length))||0})).sort((function(e,t){return e-t})),o=n[n.length-1]||0,s=Object(d.a)(),l=m.k;if(t){var u=Object(i.f)(t);l=Object(i.d)(u.data)}return Object(c.a)(Object(c.a)({},e),{},{flows:Object(c.a)(Object(c.a)({},e.flows),{},Object(r.a)({},s,{isConnected:!1,name:"".concat(a," ").concat(o+1),type:"user-generated",flow:l})),selectedFlow:s})}function h(e,t){return e.selectedFlow?Object(c.a)(Object(c.a)({},e),{},{selectedFlow:e.selectedFlow,flows:Object(c.a)(Object(c.a)({},e.flows),{},Object(r.a)({},e.selectedFlow,Object(c.a)(Object(c.a)({},e.flows[e.selectedFlow]),{},{flow:t})))}):e}function w(e,t){return e.selectedFlow?Object(c.a)(Object(c.a)({},e),{},{selectedFlow:e.selectedFlow,flows:Object(c.a)(Object(c.a)({},e.flows),{},Object(r.a)({},e.selectedFlow,Object(c.a)(Object(c.a)({},e.flows[e.selectedFlow]),t)))}):e}function E(e,t){return Object(c.a)(Object(c.a)({},e),{},{selectedFlow:t})}function y(e,t){var a=t.nodeId,n=t.nodeUpdate,r=Object(c.a)({},e),o=r.flows[r.selectedFlow].flow.nodes[a],s=Object(c.a)(Object(c.a)({},o),n);return r.flows[r.selectedFlow].flow.nodes[a]=s,Object(c.a)({},r)}function O(e,t){var a=Object(c.a)({},e);return delete e.flows[a.selectedFlow].flow.nodes[t],Object(c.a)({},a)}var x=a(68);var k=a(205),j=a(98),N=a(10);function _(e){Object.keys(e).forEach((function(t){localStorage.setItem("preferences-".concat(t),e[t])}))}var C=a(29),S=a(34);function L(e,t){N.a.log("_handleNewLog");var a=Object(i.j)(t,e.logs.length),n=a.name,o=a.level,s=a.unixTime,l=[].concat(Object(C.a)(e.logs),[a]),u=e.logSources[n]?e.logSources[n]+1:1,m=Object(c.a)(Object(c.a)({},e.logSources),{},Object(r.a)({},n,u)),d=e.logLevels[o]?e.logLevels[o]+1:1,p=Object(c.a)(Object(c.a)({},e.logLevels),{},Object(r.a)({},o,d)),f=e.logLevelOccurrences[s]?Object(c.a)({},e.logLevelOccurrences[s]):Object(S.d)(),b=Object(c.a)(Object(c.a)({},e.logLevelOccurrences),{},Object(r.a)({},s,f));return b[s].levels[o]++,b[s].lastLog=a.idx,Object(c.a)(Object(c.a)({},e),{},{logs:l,logSources:m,logLevels:p,logLevelOccurrences:b})}var F=a(33);function A(e,t){var a=t.connected,n=t.message;return N.a.log("handleLogConnectionStatus - status",a),N.a.log("handleLogConnectionStatus - message",n),Object(c.a)(Object(c.a)({},e),{},{loading:!1,connected:a})}var T=a(206),I=a(21),D="HANDLE_TASK",P={taskData:{qps:{current:"0",history:new Array(30).fill(0)},elapsed:{task_name:"No Current Task",seconds:"0s"},progress:{currentRequest:0,bar_len:0,num_bars:0},speed:{current:"0",unit:"units",history:new Array(30).fill(0)},lastUpdateChart:new Date,messages:[],bytes:[]}};function R(e,t){var a=t.taskEvent,n=t.processes,r=Object(c.a)({},a),o=r.task_name,s=r.process,l=r.bar_len,u=r.num_bars,m=r.elapsed,d=r.speed,p=r.speed_unit,f=r.bytes_recv,b=r.bytes_sent,g=r.msg_recv,v=r.msg_sent,h=r.num_reqs,w=r.qps,E=Object(c.a)({},e.taskData.progress);l&&u&&(E.currentRequest=h,E.bar_len=l,E.num_bars=u);var y=Object(C.a)(e.taskData.messages),O=Object(C.a)(e.taskData.bytes);if(g&&v){var x=e.taskData.messages.map((function(e){return e.process})).indexOf(s),k={process:s,sent:v,received:g,node:n[s]},j={process:s,sent:b,received:f,node:n[s]};x<0?(y.push(k),O.push(j)):(y[x]=k,O[x]=j),y=y.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),O=O.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20)}var N=new Date,_=Object(c.a)({},e.taskData.qps);w&&(_.current=parseFloat(w).toFixed(1),_.history.push(parseFloat(w).toFixed(3)),_.history.shift());var S=Object(c.a)({},e.taskData.speed);d&&p&&(S.unit=p,S.current=parseFloat(d).toFixed(1),S.history.push(parseFloat(d).toFixed(3)),S.history.shift());var L=Object(c.a)({},e.taskData.elapsed);return m&&(L.seconds=Object(i.e)(parseInt(m)),L.task_name="Task: ".concat(o)),Object(c.a)(Object(c.a)({},e),{},{taskData:Object(c.a)(Object(c.a)({},e.taskData),{},{qps:_,elapsed:L,progress:E,speed:S,lastUpdateChart:N,messages:y,bytes:O})})}var M=a(50),W=Object(n.combineReducers)({flowState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m.b:return e=b(t,a.payload),p(e),e;case m.d:return e=v(t,a.payload),p(e),e;case m.e:return e=g(t,a.payload),p(e),e;case m.h:return e=h(t,a.payload),p(e),e;case m.i:return e=w(t,a.payload);case m.a:return e=v(t),p(e),e;case m.f:return E(t,a.payload);case m.j:return e=y(t,a.payload),p(e),e;case m.c:return e=O(t,a.payload),p(e),e;case m.g:return Object(c.a)(Object(c.a)({},t),{},{rerender:!t.rerender});default:return t}},hubState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x.d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.a:return Object(c.a)(Object(c.a)({},e),{},{loading:!0});case x.c:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,images:t.payload.images});case x.b:return Object(c.a)(Object(c.a)({},e),{},{loading:!1,error:null});default:return e}},settingsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.a:var a=Object(c.a)(Object(c.a)({},e.settings),t.payload),n={settings:a};return N.a.log("saveSettings - settings",a),_(a),n;default:return e}},logStreamState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.c:return Object(c.a)(Object(c.a)({},e),{},{logIndex:t.payload});case S.a:return L(e,t.payload);default:return e}},globalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.b:return A(e,t.payload);case F.h:return Object(c.a)(Object(c.a)({},e),{},{menuVisible:!e.menuVisible});case F.e:return Object(c.a)(Object(c.a)({},e),{},{banner:{message:t.payload.message,theme:t.payload.theme}});case F.c:return Object(c.a)(Object(c.a)({},e),{},{banner:null});case F.f:return Object(c.a)(Object(c.a)({},e),{},{banner:{message:t.payload.message,theme:"error"}});case F.g:return Object(c.a)(Object(c.a)({},e),{},{modal:t.payload.modal,modalParams:t.payload.modalParams});case F.a:return Object(c.a)(Object(c.a)({},e),{},{modal:null,modalParams:null});case S.a:return Object(c.a)(Object(c.a)({},e),{},{processes:Object(c.a)(Object(c.a)({},e.processes),{},Object(r.a)({},t.payload.process,t.payload.name))});default:return e}},taskState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return R(e,t.payload);default:return e}}}),H=Object(n.createStore)(W,Object(k.composeWithDevTools)(Object(n.applyMiddleware)(T.a)));M.a.connect(H.getState().settingsState.settings,(function(e){var t=e.connected,a=e.message;H.dispatch(Object(I.c)(t,a))}));t.a=H},49:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return l}));var n=function(e){return e.flowState.flows[e.flowState.selectedFlow]},r=function(e){return e.flowState.rerender},c=function(e){return e.flowState.tooltipConfig},o=function(e){return e.flowState.flows},s=function(e){return Object.entries(e.flowState.flows).filter((function(e){return"example"===e[1].type}))},l=function(e){return e.flowState.selectedFlow}},50:function(e,t,a){"use strict";var n,r=a(5),c=a.n(r),o=a(13),s=a(84),l=a.n(s),u=a(10),i={connect:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.log("api - connect - settings",t),r="".concat(t.host,":").concat(t.port),n=l.a.create({baseURL:r,timeout:3e4}),e.prev=3,e.next=6,n.get("/");case 6:if(200!==e.sent.status){e.next=10;break}return u.a.log("api - connect successfully connected to jinad"),e.abrupt("return",a({connected:!0,message:"Successfully connected to Jina at ".concat(r)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),u.a.log("api - connect could not connect to jinad:",e.t0);case 15:return e.abrupt("return",a({connected:!1,message:"failed to connect"}));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}(),getDaemonStatus:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/status");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",daemonStatus:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/workspaces");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",workspaces:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),createWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,t.forEach((function(e){"string"===typeof e?a.append("files",new Blob([e])):a.append("files",e)})),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=3,e.next=6,n.post("/workspaces",a,r);case 6:if(201!==(o=e.sent).status){e.next=9;break}return e.abrupt("return",{status:"success",workspace:o.data});case 9:return e.abrupt("return",{status:"error",message:o.data});case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",{status:"error",message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),deleteWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/workspaces/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - deleteWorkspace ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),deleteAllWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/workspaces/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - deleteAllWorkspaces error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getFlowArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/flows/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/flows/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",flow:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:e.prev=9,e.t0=e.catch(0),u.a.log("api - getFlow error getting flow: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get flow\nFlowId:".concat(t)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),startFlow:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r,o,s,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.a.log("yamlString:",t),(r=new FormData).append("flow",new Blob([t])),a&&r.append("workspace_id",a),o={headers:{"Content-Type":"multipart/form-data"}},e.prev=5,e.next=8,n.post("/flows",r,o);case 8:if(201!==(s=e.sent).status){e.next=13;break}return l=s.data,i="Successfuly started flow\nid: ".concat(l),e.abrupt("return",{status:"success",message:i,flow_id:l});case 13:return e.abrupt("return",{status:"error",message:s.data});case 16:return e.prev=16,e.t0=e.catch(5),u.a.log("api - startFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,a){return e.apply(this,arguments)}}(),terminateFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/flows/".concat(t));case 3:if(a=e.sent,u.a.log("terminate result",a),200!==a.status){e.next=8;break}return r="Successfuly terminated flow ".concat(t),e.abrupt("return",{status:"success",message:r,flow:a.data});case 8:return e.abrupt("return",{status:"error",message:a.data});case 11:return e.prev=11,e.t0=e.catch(0),u.a.log("api - terminateFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllFlows:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/flows/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllFlows error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/logs/".concat(t,"/").concat(a));case 3:if(200!==(r=e.sent).status){e.next=7;break}return o=r.data.split("\n").filter((function(e){return""!==e})).map(JSON.parse),e.abrupt("return",{status:"success",logs:o});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u.a.log("api - getLogs error: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get logs for flow.\nFlowId:".concat(a)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),listenForLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a,n,r,o){var s,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.host.replace("http://","ws://").replace("https://","wss://"),l="".concat(s,":").concat(n.port,"/logstream/").concat(t,"/").concat(a),u.a.log("api - listenForLogs - baseURl:",l),e.prev=3,i=new WebSocket(l),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",r({connected:!1,message:e.t0}));case 10:i.addEventListener("open",(function(){r({connected:!0,message:"Successfully Connected"}),i.send(JSON.stringify({from:0}))})),i.addEventListener("message",(function(e){u.a.log("api - logstream - message received: ",e);var t=JSON.parse(e.data);o(t)})),i.addEventListener("close",(function(e){r({connected:!1,message:"Connection closed"})})),i.addEventListener("error",(function(e){r({connected:!1,message:"Socket error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),getPodArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/pods/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - getPod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/pods",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminatePod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPods:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/pods/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllPods error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getPeaArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/peas/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - getPea error getting pea ".concat(t,": "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/peas",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminatePea ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPeas:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/peas/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.log("api - terminateAllPeas error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()};t.a=i},58:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return i}));var n=function(e){return e.globalState.menuVisible},r=function(e){return e.globalState.navItems},c=function(e){return e.globalState.user},o=function(e){return e.globalState.banner},s=function(e){return e.globalState.modal},l=function(e){return e.globalState.modalParams},u=function(e){return e.globalState.connected},i=function(e){return e.globalState.loading}},587:function(e,t,a){"use strict";a.r(t),a.d(t,"hubRoutes",(function(){return m}));var n=a(0),r=a.n(n),c=a(28),o=a(38),s=a(120),l=a(122),u=a(119),i=a(101),m=[{path:"/",exact:!0,layout:o.a,component:function(){return r.a.createElement(c.a,{to:"/home"})}},{path:"/help",layout:o.a,component:i.a,props:{usesConnection:!1,usesAuth:!1}},{path:"/home",layout:o.a,component:s.a,props:{usesConnection:!1,usesAuth:!0}},{path:"/package",layout:o.a,component:l.a,props:{usesConnection:!1,usesAuth:!0}},{path:"/login",layout:o.a,component:u.a,props:{usesConnection:!1,usesAuth:!0}}]},588:function(e,t,a){"use strict";a.r(t),a.d(t,"dashboardRoutes",(function(){return Mt}));var n=a(0),r=a.n(n),c=a(28),o=a(38),s=a(15),l=a(2),u=a(18),i=a(16),m=a(49),d=a(96),p=a(31),f=a(215),b=a.n(f),g=a(41),v=a.n(g),h=a(22),w=a(6),E=a(39),y=a(19),O=a(40);function x(){var e=Object(u.a)(["\n    cursor: pointer;\n    font-weight: 600;\n    font-size: 14px;\n    margin-bottom: 1rem;\n    color: ",";\n  "]);return x=function(){return e},e}function k(){var e=Object(u.a)(["\n    cursor: pointer;\n    font-weight: ",";\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-left: 1rem;\n    margin-bottom: 1rem;\n  "]);return k=function(){return e},e}function j(){var e=Object(u.a)(["\n    font-weight: 600;\n    font-size: 20px;\n    color: ",";\n    margin-bottom: 1rem;\n  "]);return j=function(){return e},e}function N(){var e=Object(u.a)(['\n    font-family: "Montserrat", serif;\n    min-width: 12rem;\n    margin-right: 3rem;\n  ']);return N=function(){return e},e}function _(){var e=Object(u.a)(["\n    font-size: 1.25rem;\n    margin-right: -0.125rem;\n  "]);return _=function(){return e},e}function C(e){var t=e.connected;return e.show?t?r.a.createElement("i",{className:"material-icons ml-2 text-success"},"wifi"):r.a.createElement("i",{className:"material-icons ml-2 text-warning"},"wifi_off"):null}function S(e){var t=e.connected;return e.show?t?r.a.createElement("i",{className:"material-icons text-white ml-1 mr-2"},"wifi"):r.a.createElement("i",{className:"material-icons text-warning ml-1 mr-2"},"wifi_off"):null}function L(e){var t=e.deleteFlow,a=y.a.div(_());return r.a.createElement(a,null,r.a.createElement("i",{onClick:t,className:"material-icons"},"delete"))}function F(e){var t=e.flows,a=e.loadFlow,n=e.selectedFlowId,c=e.showNewFlowModal,o=e.deleteFlow,l=e.connected,u=Object(O.f)().palette,i=y.a.div(N()),m=y.a.div(j(),u.headerTextColor),d=y.a.div(k(),(function(e){return e.selected?"bold":500})),p=y.a.div(x(),u.headerTextColor),f=Object.entries(t).filter((function(e){var t=Object(s.a)(e,2);t[0];return"example"!==t[1].type})),b=Object.entries(t).filter((function(e){var t=Object(s.a)(e,2);t[0];return"example"===t[1].type})),g=t[n];return r.a.createElement(i,null,r.a.createElement(m,null,g.name,r.a.createElement(S,{show:"remote"===g.type,connected:l})),r.a.createElement(d,{selected:!1,onClick:c},"New Flow ",r.a.createElement("i",{className:"material-icons plus-icon"},"add")),r.a.createElement(p,null,"My Flows "),f.map((function(e,t){var n=Object(s.a)(e,2),c=n[0],u=n[1];return r.a.createElement(d,{selected:g.name===u.name,onClick:function(){return a(c)},key:t},u.name,r.a.createElement(C,{show:"remote"===u.type,connected:l}),"_userFlow"!==c&&r.a.createElement(L,{deleteFlow:function(e){return o(e,c)}}))})),r.a.createElement(p,null,"Example Flows"),b.map((function(e,t){var n=Object(s.a)(e,2),c=n[0],o=n[1];return r.a.createElement(d,{selected:g.name===o.name,onClick:function(){return a(c)},key:t},o.name)})))}var A=a.p+"static/media/Play.bef61d4b.svg",T=a.p+"static/media/Save.fb5eb30a.svg",I=a.p+"static/media/Stop.484e40df.svg",D=a.p+"static/media/Upload.3efa525a.svg",P=a.p+"static/media/Yaml.0e5a787e.svg";function R(){var e=Object(u.a)(["\n  margin: 0 2rem;\n"]);return R=function(){return e},e}function M(){var e=Object(u.a)(["\n  background: #009999;\n  border: 0;\n  margin-right: 1rem;\n  cursor: pointer;\n  :focus {\n    outline: 0px;\n  }\n"]);return M=function(){return e},e}function W(){var e=Object(u.a)(["\n  height: 3.125rem;\n  background: #009999;\n  border-radius: 8px;\n  display: flex;\n"]);return W=function(){return e},e}var H=y.a.div(W()),B=y.a.button(M()),U=Object(y.a)(B)(R());function G(e){var t=e.startFlow,a=e.stopFlow,n=e.importChart,c=e.copyChart,o=e.exportImage;return r.a.createElement("div",{className:"command-bar-container"},r.a.createElement("div",{className:"command-bar"},r.a.createElement(H,null,r.a.createElement(U,{onClick:t},r.a.createElement("img",{alt:"Play",src:A})),r.a.createElement(B,{onClick:a},r.a.createElement("img",{alt:"Stop",src:I})),r.a.createElement(B,{onClick:function(){return o("png")}},r.a.createElement("img",{alt:"Save",src:T})),r.a.createElement(B,{disabled:!0,onClick:n},r.a.createElement("img",{alt:"Upload",src:D})),r.a.createElement(B,{onClick:c},r.a.createElement("img",{alt:"Yaml",src:P})))))}var J=a(53);function z(e){return r.a.createElement("div",{className:"tooltip-container"},r.a.createElement("img",{className:"tooltip-icon",src:"../../icon.png",alt:"Tooltip Icon"}),r.a.createElement("span",{className:"tooltip-text"},e.tooltip))}var q=a(21);function V(e){var t=e.node,a=t.properties,n=t.label,c=[],o=Object(i.b)();Object.keys(a).forEach((function(e,t){a[e]&&"name"!==e&&c.push(r.a.createElement("div",{key:t},r.a.createElement("span",{className:"text-bold mr-1"},e,":"),a[e]))}));var s=Object.keys(a).length>0,l="undefined"===typeof n?a.name:n||"",u=Object(i.c)(m.b).type;return r.a.createElement("div",{className:"chart-node",id:"chart-node-".concat(n),onDoubleClick:function(){"user-generated"===u&&o(Object(q.e)("podEdit",{nodeId:t.id}))}},r.a.createElement("div",{className:"node-header"},r.a.createElement("div",{className:"p-1 ".concat(s?"special":"")},r.a.createElement("p",{className:"m-1"},r.a.createElement("span",{className:"text-bold"},l||r.a.createElement("span",{className:"text-warning"},"Empty Pod"))))))}function Y(){var e=Object(u.a)(["\n    background-color: #099;\n    color: white;\n    border-radius: 0.25rem;\n    width: 0.5rem;\n    height: 0.5rem; ;\n  "]);return Y=function(){return e},e}function K(){var e=Object(u.a)(["\n    background-color: white;\n    width: 1rem;\n    height: 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid rgba(0, 153, 153, 0.3);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0.3rem;\n  "]);return K=function(){return e},e}function $(){var e=y.a.div(K()),t=y.a.div(Y());return r.a.createElement(e,null,r.a.createElement(t,null))}function X(e){var t=e.label,a=e.ports,r=e.properties,c=e.idx,o=n.createRef();return n.createElement("div",{"data-name":"SideBarItem-".concat(c),ref:o,className:"mb-3 draggable-container",draggable:!0,onDragStart:function(e){e.dataTransfer.setData(J.REACT_FLOW_CHART,JSON.stringify({label:t,ports:a,properties:r}))}},n.createElement(V,{node:{properties:r,label:t}}))}var Q=[{},{name:"reader",yaml_path:"pods/extract.yml"},{name:"loader",yaml_path:"yaml/craft-load.yml",parallel:3,read_only:"true"},{name:"splittor",yaml_path:"pods/craft-split.yml",parallel:3,read_only:"true"},{name:"encoder",yaml_path:"pods/encode.yml",parallel:3,timeout_ready:12e5,read_only:"true"},{name:"chunk_indexer",yaml_path:"pods/index-chunk.yml",parallel:3,separated_workspace:"true"},{name:"doc_indexer",yaml_path:"pods/index-doc.yml"},{name:"join_all",yaml_path:"_merge",read_only:"true"},{name:"ranker",yaml_path:"MinRanker"},{name:"flipper",yaml_path:"yaml/craft-flip.yml",parallel:3,read_only:"true"},{name:"normalizer",yaml_path:"yaml/craft-normalize.yml",parallel:3,read_only:"true"},{name:"crafter",yaml_path:"pods/craft.yml",read_only:"true"},{name:"chunk_seg",yaml_path:"pods/craft.yml",parallel:3}],Z=a(610),ee=a(609);function te(e){var t=e.duplicateFlow;return r.a.createElement("div",{className:"readonly-overlay py-4 px-4 text-center"},r.a.createElement("h4",{className:"my-4"},r.a.createElement("b",null,"This flow is ",r.a.createElement("span",{className:"text-muted"},"readonly"))),r.a.createElement("p",{className:"my-4"},"To edit this flow, please duplicate it."),r.a.createElement(Z.a,{onClick:t},"Duplicate Flow"))}function ae(){return r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("h5",{className:"px-3 py-2 mb-0 border-bottom"},r.a.createElement("b",null,"Add Pods")),r.a.createElement("div",{className:"p-3 scrollable flex-fill"},Q.map((function(e,t){return r.a.createElement(X,{idx:t,key:t,ports:{inPort:{id:"inPort",type:"input"},outPort:{id:"outPort",type:"output"}},properties:e})}))))}var ne=function(e){var t=e.readonly,a=e.duplicateFlow;return r.a.createElement(ee.a,{className:"flowchart-sidebar mb-4"},t?r.a.createElement(te,{duplicateFlow:a}):r.a.createElement(ae,null))},re=a(58),ce=a(34);function oe(){var e=Object(u.a)(["\n  overflow: hidden;\n"]);return oe=function(){return e},e}function se(){var e=Object(u.a)(["\n  display: flex;\n"]);return se=function(){return e},e}var le=y.a.div(se()),ue=y.a.div(oe());var ie=a(604),me=a(601),de=a(163),pe=a(48),fe=a.n(pe),be=function(e){var t=e.palette;return{INFO:{borderColor:t.info,backgroundColor:"rgba(0, 153, 153, 0.9)"},SUCCESS:{borderColor:t.success,backgroundColor:"rgba(50, 200, 205, 0.9)"},WARNING:{borderColor:t.warning,backgroundColor:"rgba(255, 204, 102, 0.9)"},ERROR:{borderColor:t.error,backgroundColor:"rgba(255, 102, 102, 0.9)"},CRITICAL:{borderColor:t.critical,backgroundColor:"rgba(255, 70, 64, 0.9)"},DEBUG:{borderColor:t.debug,backgroundColor:"rgba(110, 114, 120, 0.9)"}}};function ge(e,t){var a=be(t);return Object.keys(a).map((function(t){var n=e.map((function(e){return e.levels[t]}));return{barPercentage:.75,categoryPercentage:1,label:t,fill:"start",backgroundColor:a[t].backgroundColor,data:n}}))}function ve(e){for(var t=[],a=0;a<(e||0);++a)t.push(a);return t}var he=function(e){var t=e.width,a=e.height,c=e.data,o=e.numTicks,l=e.onClick,u=e.timeLabels,i=Object(n.useRef)(null),m=Object(n.useState)(null),d=Object(s.a)(m,2),p=d[0],f=d[1],b=Object(O.f)();function g(e){if(p){var t=p.getElementsAtEvent(e);l(t)}}var v=Object(n.useCallback)((function(e,t,a){return 0===t?u[0]:t===Math.floor(a.length/2)?u[1]:void 0}),[u]);function h(e){if(Number.isInteger(e))return e}function w(){return r.a.createElement("div",{className:"chart-legend mt-1 mb-3","data-name":"logOccurencesChartLegend"},Object.entries(be(b)).map((function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",{className:"chart-legend-item",key:a},r.a.createElement("div",{className:"chart-legend-indicator mr-1 ".concat(a.toLowerCase()),style:{backgroundColor:n.borderColor}}),r.a.createElement("span",{className:"chart-legend-caption mr-2"},a))})))}return Object(n.useEffect)((function(){if(i.current){var e={animation:{duration:0},events:["click"],onClick:g,maintainAspectRatio:!0,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},elements:{point:{radius:0,hitRadius:20}},scales:{xAxes:[{stacked:!0,ticks:{padding:5,maxRotation:0,autoSkip:!1,callback:v},gridLines:{zeroLineColor:"#cfd8dc",color:"#cfd8dc"}}],yAxes:[{stacked:!0,scaleLabel:{display:!1},gridLines:{borderDash:[5,5],zeroLineColor:"#cfd8dc",drawBorder:!1,color:"#cfd8dc"},ticks:{padding:5,suggestedMin:0,autoSkip:!0,maxTicksLimit:4,callback:h}}]}},t={type:"bar",data:{datasets:ge(c,b)},options:e},a=new fe.a(i.current,t);f(a)}}),[]),Object(n.useEffect)((function(){if(p){var e={labels:ve(o),datasets:ge(c,b)};p.data=e,p.update()}}),[c,p,o,b]),Object(n.useEffect)((function(){p&&p.options.scales&&p.options.scales.xAxes&&p.options.scales.xAxes[0].ticks&&(p.options.scales.xAxes[0].ticks.callback=v,p.update())}),[v,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("canvas",{height:a||10,width:t||100,ref:i}))},we=a(225),Ee=a(222),ye={dropdownIndicator:function(e){return Object(l.a)(Object(l.a)({},e),{},{color:"black"})},indicatorSeparator:function(e){return Object(l.a)(Object(l.a)({},e),{},{opacity:"0"})},container:function(e,t){var a=t.selectProps.width;return Object(l.a)(Object(l.a)({},e),{},{width:a})},option:function(e){return Object(l.a)(Object(l.a)({},e),{},{cursor:"pointer"})},control:function(e){return Object(l.a)(Object(l.a)({},e),{},{cursor:"pointer",border:"none",background:"#F6F8FA"})}};function Oe(e){var t=e.isMulti,a=e.isSearchable,n=e.clearAfter,c=e.onFilterChange,o=e.options,s=Object(we.a)(e,["isMulti","isSearchable","clearAfter","onFilterChange","options"]),l=n?null:void 0;return r.a.createElement(Ee.a,Object.assign({onChange:function(e){c(Array.isArray(e)?e:e?[e]:[])},value:l,isMulti:t,options:o,styles:ye,readOnly:!0,isSearchable:a},s))}function xe(e){var t=e.data,a=t.data,n=(t.numSeconds,t.numTicks),c=e.showLog,o=e.setTimeSelection,s=e.timeOptions,l=e.selectedTime,u=e.timeLabels;return r.a.createElement(ee.a,{className:"h-100"},r.a.createElement(ee.a.Header,{className:"p-2 px-3"},r.a.createElement(me.a,null,r.a.createElement(de.a,{"data-name":"logOccurenceTitle"},"Log Occurences by Level"),r.a.createElement(de.a,{className:"text-right","data-name":"logOccurenceDurationSelect"},r.a.createElement(Oe,{clearAfter:!0,options:Object.values(s),onFilterChange:function(e){return o(e[0].value)},className:"logstream-select text-left",placeholder:r.a.createElement("span",{"data-name":"logOccurenceDurationSelectedOption"},r.a.createElement("i",{className:"material-icons mr-2"},"access_time"),s[l].label),isSearchable:!1})))),r.a.createElement(ee.a.Body,{className:"d-none d-md-block p-0 pb-2 px-3"},r.a.createElement(he,{timeLabels:u,data:a,numTicks:n,height:10,width:70,onClick:c})),r.a.createElement(ee.a.Body,{className:"d-md-none pb-2"},r.a.createElement(he,{timeLabels:u,data:a,numTicks:n,height:20,width:50,onClick:c})))}var ke=function(e){var t=e.width,a=e.height,c=e.data,o=Object(n.useRef)(null),l=Object(n.useState)(null),u=Object(s.a)(l,2),i=u[0],m=u[1],d=Object(O.f)(),p=Object(n.useCallback)((function(e){return be(d)[e]}),[d]);return Object(n.useEffect)((function(){if(o.current){var e=Object.keys(c),t={type:"pie",data:{datasets:[{borderWidth:1,data:Object.values(c),borderColor:e.map((function(e){return p(e).borderColor})),backgroundColor:e.map((function(e){return p(e).backgroundColor}))}]},options:{animation:{duration:0},legend:{display:!1,position:"bottom",labels:{padding:25,boxWidth:20}},tooltips:{mode:"index",position:"nearest"}}},a=new fe.a(o.current,t);m(a)}}),[]),Object(n.useEffect)((function(){if(i){var e=Object.keys(c),t={labels:e,datasets:[{borderWidth:1,data:Object.values(c),borderColor:e.map((function(e){return p(e).borderColor})),backgroundColor:e.map((function(e){return p(e).backgroundColor}))}]};i.data=t,i.update()}}),[c,i,p]),r.a.createElement("canvas",{height:a||50,width:t||50,ref:o})};function je(e){var t=e.data;return r.a.createElement(ee.a,{className:"h-100"},r.a.createElement(ee.a.Header,{className:"text-center p-2"},"Log Levels"),r.a.createElement(ee.a.Body,{className:"px-3 pt-0 pb-3"},r.a.createElement(ke,{data:t})))}var Ne=a(5),_e=a.n(Ne),Ce=a(13),Se=a(123),Le=a(216),Fe=a(217),Ae=a.n(Fe),Te=a(88),Ie=a(26),De=Object(n.memo)((function(e){var t=e.index,a=e.style,n=e.data,r=n.columns,c=n.items,o=n.showLogDetails,s=c[t],l=s.name,u=s.message,i=s.level,m=s.process,d=s.formattedTimestamp,p=s.idx,f=String(l);f=f.length>20?f.substring(0,20):f;var b=String(i)[0],g=r.firstCol,v=r.secondCol,h=r.thirdCol;return Object(Ie.a)("div",{className:"log log-".concat(String(i).toLowerCase()," px-4 border-bottom py-1"),css:{maxHeight:84},style:a,onClick:function(){return o(s)}},Object(Ie.a)(me.a,null,Object(Ie.a)(de.a,{className:"log-prefix text-muted px-0 d-flex flex-row",css:{maxWidth:g}},Object(Ie.a)("div",{className:"text-bold mr-2"},p),Object(Ie.a)("div",{className:"ml-auto"},d)),Object(Ie.a)(de.a,{className:"log-prefix px-0 text-left text-md-right text-bold cursor-pointer",css:{maxWidth:v}},f,"@",m,"[",b,"]:"),Object(Ie.a)(de.a,{className:"px-0",css:{maxHeight:84,display:"block",overflow:"hidden",textOverflow:"ellipsis",width:h,whiteSpace:"nowrap",paddingRight:0,marginRight:0}},u)))}),Se.b),Pe=function(e){var t=e.columns,a=t.firstCol,n=t.secondCol,r=e.border;return Object(Ie.a)("div",{className:"px-4 py-1 bg-light text-monospace ".concat(r?"border-top":""),css:{maxHeight:84}},Object(Ie.a)(me.a,null,Object(Ie.a)(de.a,{className:"log-prefix text-muted px-0 d-flex flex-row",css:{maxWidth:a}},Object(Ie.a)("div",{className:"text-bold mr-2"},"#"),Object(Ie.a)("div",{className:"ml-auto"},"timestamp")),Object(Ie.a)(de.a,{className:"log-prefix px-0 text-left text-md-right text-bold",css:{maxWidth:n}},"source@process[level]:"),Object(Ie.a)(de.a,{className:"px-0",css:{maxHeight:84,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingRight:0,marginRight:0}},"message")))},Re=a(602),Me=a(606);function We(e){var t=e.value,a=e.onChange,n=e.placeholder,c=e.variant;return r.a.createElement("div",{className:"expanding-searchbar expanding-searchbar-".concat(c||"default")},r.a.createElement(Re.a,null,r.a.createElement(Re.a.Prepend,{className:"ml-auto"},r.a.createElement(Re.a.Text,null,r.a.createElement("i",{className:"material-icons"},"search"))),r.a.createElement(Me.a.Control,{type:"text",placeholder:n,value:t,onChange:function(e){return a(e.target.value)}}),r.a.createElement(Re.a.Append,null,r.a.createElement(Re.a.Text,null,r.a.createElement("i",{className:"cursor-pointer text-muted material-icons mr-3 ".concat(t?"":"d-invisible"),onClick:function(){return a("")}},"cancel")))))}var He=a(603),Be=a(10),Ue={success:{name:"check_circle",color:"success"},pending:{name:"pending",color:"muted"},warning:{name:"error",color:"warning"},failed:{name:"cancel",color:"critical"}};function Ge(e){var t=e.levels,a=e.numItems;return Be.a.log("levels:",t),r.a.createElement("span",{className:"ml-2 text-muted"},"(",a,")")}function Je(e){var t=function(e){var t=Object.keys(e);return t.find((function(e){return"critical"===e.toLowerCase()}))||t.find((function(e){return"error"===e.toLowerCase()}))?"failed":t.find((function(e){return"warning"===e.toLowerCase()}))?"warning":"success"}(e.levels),a=Ue[t];return r.a.createElement("i",{className:"no-select material-icons log-".concat(a.color," mr-2")},a.name)}function ze(e){var t=e.expanded;return r.a.createElement("i",{className:"no-select material-icons text-muted cursor-pointer ".concat(t?"rotate-90":""," mr-2")},"arrow_forward_ios")}function qe(e){var t=e.title,a=e.body,c=e.levels,o=e.numItems,l=e.group,u=Object(n.useState)(!1),i=Object(s.a)(u,2),m=i[0],d=i[1];return r.a.createElement("div",{className:"log-group-item m-2 ".concat(m?"bg-light":"")},r.a.createElement("div",{className:"log-group-header cursor-pointer p-2",onClick:function(){return d((function(e){return!e}))}},r.a.createElement(ze,{expanded:m}),c&&r.a.createElement(Je,{levels:c}),r.a.createElement("span",{className:"group-level"===l?"log-".concat(t.toLowerCase()):""},t),!c&&r.a.createElement(Ge,{levels:c,numItems:o,title:t})),r.a.createElement(He.a,{in:m,timeout:100},r.a.createElement("div",{className:"log-group-body p-3"},r.a.createElement("div",{className:"bg-white border"},a))))}var Ve="logs-view-preference",Ye=["INFO","SUCCESS","WARNING","ERROR","CRITICAL","DEBUG"],Ke=[{value:"csv",label:"CSV"},{value:"json",label:"JSON"},{value:"txt",label:"TXT"}],$e={table:{value:"table",label:"Table View"},"group-pod":{value:"group-pod",label:"Group by Pod"},"group-level":{value:"group-level",label:"Group by Level"}};function Xe(){return function(){var e=localStorage.getItem(Ve);return!(!e||!$e[e])&&e}()||"table"}var Qe=0,Ze=Ae.a.create({doc:{id:"id",field:["filename","funcName","module","message","pathname","name"]}}),et=function(e,t){var a=function(e){return"jina-logs-".concat(new Date,".").concat(e)}(t);return"csv"===t?Object(Te.saveAs)(Object(h.g)(e),a):"json"===t?Object(Te.saveAs)(Object(h.h)(e),a):"txt"===t?Object(Te.saveAs)(Object(h.i)(e),a):void 0},tt=function(e,t){return t.items[e].id},at=function(e){return Array.isArray(e)?e:Array.from(e)},nt=function(e){return at(e).map((function(e){return{label:e,value:e}}))};function rt(e){var t=e.data,a=e.firstCol,c=e.secondCol,o=e.showLogDetails,l=e.small,u=Object(n.useRef)(),i=Object(n.useState)(!0),m=Object(s.a)(i,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){u.current&&d&&u.current.scrollToItem(t.length)}),[t.length,d]),r.a.createElement("div",null,r.a.createElement(Pe,{columns:{firstCol:a,secondCol:c},border:!l}),r.a.createElement("div",{className:"log-stream-container".concat(l?"-small":""," p-0 border-top")},!d&&r.a.createElement("div",{onClick:function(){return u.current.scrollToItem(t.length)},className:"back-to-bottom active"},r.a.createElement("i",{className:"material-icons"},"arrow_downward")," Back to Bottom"),r.a.createElement(Le.a,null,(function(e){var n=e.height,s=e.width,l=s-(a+c);return r.a.createElement(Se.a,{onScroll:function(e){var a=e.scrollOffset;p((a+n)/30-t.length===0)},height:n,width:s,itemCount:t.length,itemSize:30,itemKey:tt,itemData:{items:t,columns:{firstCol:a,secondCol:c,thirdCol:l},showLogDetails:o},ref:u},De)}))))}function ct(e){var t=e.groupedData,a=e.grouping,n=e.firstCol,c=e.secondCol,o=e.showLogDetails;return r.a.createElement(ee.a.Body,{className:"log-stream-container p-0 border-top"},Object.keys(t).length&&r.a.createElement("div",{className:"log-group-container"},Object.entries(t).map((function(e,t){var l=Object(s.a)(e,2),u=l[0],i=l[1];return r.a.createElement(qe,{group:a,key:t,title:u,levels:i.levels,numItems:i.data.length,body:r.a.createElement(rt,{firstCol:n,secondCol:c,data:i.data,showLogDetails:o,small:!0})})}))))}function ot(e){var t=e.data,a=e.showLogDetails,c=Object(n.useState)((function(){return Xe()})),o=Object(s.a)(c,2),l=o[0],u=o[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(s.a)(f,2),g=b[0],h=b[1],w=Object(n.useState)([]),E=Object(s.a)(w,2),y=E[0],O=E[1],x=Object(n.useState)(""),k=Object(s.a)(x,2),j=k[0],N=k[1],_=Object(n.useCallback)(Object(Ce.a)(_e.a.mark((function e(){var a,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(Qe,t.length),Ze.add(a),Qe=t.length,e.next=5,Ze.search(j);case 5:n=e.sent,O(n);case 7:case"end":return e.stop()}}),e)}))),[j,t.length]);function C(e){var t;u(e),t=e,localStorage.setItem(Ve,t)}Object(n.useEffect)((function(){j&&t.length&&_()}),[t.length,j,_]);var S,L=j?y:t,F=t.reduce((function(e,t){return e.add(t.name)}),new Set),A=(L||[]).filter((function(e){return t=e,a={level:g.map((function(e){return e.value})),name:d.map((function(e){return e.value}))},Object.entries(a).reduce((function(e,a){var n=Object(s.a)(a,2),r=n[0],c=n[1];return e&&Array.isArray(c)?0===c.length||c.includes(t[r]):c===t[r]}),!0);var t,a}));if("group-pod"===l){var T=at(F).map((function(e){return e.toLowerCase().split("-")[0]}));S={},T.forEach((function(e){var t={};t.data=(A||[]).filter((function(t){return t.name&&t.name.toLowerCase().startsWith(e)})),t.data.length&&(t.levels=v.a.countBy(t.data,"level"),S[e]=t)}))}else"group-level"===l&&(S={},Ye.forEach((function(e){var t={};t.data=(A||[]).filter((function(t){return t.level===e})),t.data.length&&(S[e]=t)})));return r.a.createElement(ee.a,{className:"mb-4"},r.a.createElement(ee.a.Header,{className:"p-0"},r.a.createElement(me.a,{className:"p-3"},r.a.createElement(de.a,{md:"8"},r.a.createElement(Oe,{clearAfter:!0,options:Object.values($e),onFilterChange:function(e){return C(e[0].value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:"table"===l?r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"table_rows"),"Table View"):r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"view_list"),$e[l].label),isSearchable:!1}),"table"===l&&r.a.createElement(Oe,{isMulti:!0,options:nt(F),onFilterChange:p,className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"mediation"),"All Sources")}),r.a.createElement(Oe,{isMulti:!0,options:nt(Ye),onFilterChange:h,className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"bar_chart"),"All Levels")}),r.a.createElement(Oe,{clearAfter:!0,options:Ke,onFilterChange:function(e){return et(t,e[0].value)},className:"logstream-select mb-2 mr-0 mb-md-0 mr-md-2",placeholder:r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons mr-2"},"download"),"Download Logs"),isSearchable:!1})),r.a.createElement(de.a,{md:"4"},r.a.createElement(We,{placeholder:"search logs...",value:j,onChange:N})))),"table"===l?r.a.createElement(rt,{firstCol:300,secondCol:300,data:A,showLogDetails:a}):r.a.createElement(ct,{firstCol:300,secondCol:300,grouping:l,groupedData:S,showLogDetails:a}))}var st=a(117),lt=function(e){return e.logStreamState.logs},ut=function(e){return e.logStreamState.logLevels},it=function(e){return e.logStreamState.logLevelOccurrences},mt=a(67),dt="logs-time-preference",pt={"60second":{value:"60second",label:"60 Seconds",chartLabels:["60s ago","30s ago",""]},"15minute":{value:"15minute",label:"15 Minutes",chartLabels:["15m ago","7m 30s ago",""]},"1hour":{value:"1hour",label:"1 Hour",chartLabels:["1h ago","30m ago",""]}},ft={"60second":60,"15minute":900,"1hour":3600};function bt(){return function(){var e=localStorage.getItem(dt);return!(!e||!pt[e])&&e}()||"60second"}function gt(e){var t=e.elapsed;return r.a.createElement(w.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0"},r.a.createElement("b",null,t.task_name)),r.a.createElement("h2",{className:"my-3 mx-auto"},t.seconds),r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Elapsed Time"))}var vt=function(e){var t=e.progress,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(s.a)(c,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){if(a.current){var e=new fe.a(a.current,{type:"doughnut",data:{datasets:[{hoverBorderColor:"#fff",data:[0,100],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]},options:{legend:{display:!1},responsive:!1,cutoutPercentage:70,animation:{duration:0},tooltips:{enabled:!1}}});u(e)}}),[]),Object(n.useEffect)((function(){if(l){var e=100*(t.num_bars/t.bar_len||1),a={datasets:[{hoverBorderColor:"#fff",data:[e,100-e],backgroundColor:["#32c8cd","#E9ECEF"]}],labels:["Label 1","Label 2"]};l.data=a,l.update()}}),[JSON.stringify(t),l]),r.a.createElement(w.d,{className:"p-3 h-100"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},r.a.createElement("b",null,"Progress")),r.a.createElement("div",{className:"go-stats__chart mx-auto d-flex flex-row"},r.a.createElement("div",{className:"mr-4 mt-3"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center"},"Request"),r.a.createElement("h4",{className:"mb-0"},t.currentRequest)),r.a.createElement("canvas",{ref:a,style:{width:"100px",height:"100px"},className:"my-auto"})))},ht=a(29);var wt=function(e){var t=e.speed,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(s.a)(c,2),u=o[0],i=o[1],m=t.history,d=Object(O.f)().palette,p=Math.max.apply(Math,Object(ht.a)(m)),f=Math.min.apply(Math,Object(ht.a)(m)),b=Object(n.useCallback)((function(){var e=p-f;return{maintainAspectRatio:!0,responsive:!0,animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},layout:{padding:{bottom:-10,left:-10}},elements:{point:{radius:0},line:{tension:.33}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},scaleLabel:{padding:0,display:!1},ticks:{display:!1,suggestedMax:p+.1*e,suggestedMin:f-.1*e}}]}}}),[p,f]),g=Object(n.useCallback)((function(e){return{type:"line",data:{labels:new Array(m.length).fill(null),datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:d.primary,data:m}]},options:e}}),[m,d.primary]);return Object(n.useEffect)((function(){if(a.current){var e=b(),t=g(e),n=new fe.a(a.current,t);i(n)}}),[]),Object(n.useEffect)((function(){if(u){var e=Object(l.a)(Object(l.a)({},u.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(0, 153, 153, 0.25)",borderColor:d.primary,data:m}]});u.options=b(),u.data=e,u.update()}}),[m,u,b,g,d.primary]),r.a.createElement(w.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"Speed")),r.a.createElement("h2",{className:"my-3 mx-auto"},t.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},t.unit,"/Second")),r.a.createElement("canvas",{height:"100",ref:a,className:"stats-small-1"}))};var Et=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(null),c=Object(s.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)("messages"),i=Object(s.a)(u,2),m=i[0],d=i[1],p=Object(O.f)().palette,f=e[m],b=Object(n.useCallback)((function(){return{animation:{duration:0},tooltips:{callbacks:{title:function(e){return"Pod: ".concat(e[0].xLabel)},label:function(e,t){var a="".concat(t.datasets[e.datasetIndex].label,": ").concat("bytes"===m?Object(h.c)(e.value):e.value);return a},afterLabel:function(e){return"\nProcess ID: "+f[e.index].process}}},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{callback:function(e){return"bytes"===m?Object(h.c)(e):e>999?"".concat((e/1e3).toFixed(0),"k"):e}}}]},maintainAspectRatio:!1}}),[f,m]),g=Object(n.useCallback)((function(e){return{type:"bar",options:e,data:{labels:f.map((function(e){return e.node})),datasets:[{label:"msg sent",fill:"start",data:f.map((function(e){return e.sent})),backgroundColor:p.primary,borderColor:p.primary,pointBackgroundColor:p.background.default,pointHoverBackgroundColor:p.primary,borderWidth:1.5},{label:"msg received",fill:"start",data:f.map((function(e){return e.received})),backgroundColor:p.success,borderColor:p.success,pointBackgroundColor:p.background.default,pointHoverBackgroundColor:p.success,borderWidth:1.5}]}}}),[f,p.success,p.primary,p.background.default]),v=Object(n.useCallback)((function(){return{labels:f.map((function(e){return e.node})),datasets:[{label:"".concat(m," sent"),fill:"start",data:f.map((function(e){return e.sent})),backgroundColor:p.primary,borderColor:p.primary,pointBackgroundColor:p.background.default,pointHoverBackgroundColor:p.primary,borderWidth:1.5},{label:"".concat(m," received"),fill:"start",data:f.map((function(e){return e.received})),backgroundColor:p.success,borderColor:p.success,pointBackgroundColor:p.background.default,pointHoverBackgroundColor:p.success,borderWidth:1.5}]}}),[f,m,p.success,p.primary,p.background.default]);return Object(n.useEffect)((function(){if(t.current){var e=b(),a=g(e),n=new fe.a(t.current,a);l(n)}}),[]),Object(n.useEffect)((function(){if(o){var e=v(),t=b();o.options=t,o.data=e,o.update()}}),[f,o,m,v,b]),r.a.createElement(w.d,{small:!0,className:"h-100 mb-4"},r.a.createElement(w.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Network Load")),r.a.createElement(w.e,{className:"pt-0"},r.a.createElement(w.p,{className:"border-bottom py-2 bg-light"},r.a.createElement(w.g,{sm:"6",className:"col d-flex mb-2 mb-sm-0"},r.a.createElement(w.c,null,r.a.createElement(w.b,{theme:"white",active:"messages"===m,onClick:function(){return d("messages")}},"Messages"),r.a.createElement(w.b,{theme:"white",active:"bytes"===m,onClick:function(){return d("bytes")}},"Bytes")))),r.a.createElement("div",{style:{position:"relative",height:300}},r.a.createElement("canvas",{ref:t}))))};var yt=function(e){var t=e.qps,a=Object(n.useRef)(null),c=Object(n.useState)(null),o=Object(s.a)(c,2),u=o[0],i=o[1],m=t.history,d=Math.max.apply(Math,Object(ht.a)(m)),p=Math.min.apply(Math,Object(ht.a)(m)),f=Object(n.useCallback)((function(){var e=d-p;return{maintainAspectRatio:!0,responsive:!0,animation:{duration:0},legend:{display:!1},tooltips:{enabled:!1},elements:{point:{radius:0},line:{tension:.33}},layout:{padding:{bottom:-10,left:-10}},scales:{xAxes:[{gridLines:{display:!1},ticks:{display:!1}}],yAxes:[{gridLines:{display:!1},scaleLabel:{display:!1},ticks:{display:!1,suggestedMax:d+.1*e,suggestedMin:p-.1*e}}]}}}),[d,p]),b=Object(n.useCallback)((function(e){return{type:"line",data:{labels:new Array(m.length).fill(null),datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:m}]},options:e}}),[m]);return Object(n.useEffect)((function(){if(a.current){var e=f(),t=b(e),n=new fe.a(a.current,t);i(n)}}),[]),Object(n.useEffect)((function(){if(u){var e=Object(l.a)(Object(l.a)({},u.data),{datasets:[{label:"Today",fill:"start",borderWidth:1.5,backgroundColor:"rgba(50, 200, 205, 0.25)",borderColor:"#32c8cd",data:m}]});u.options=f(),u.data=e,u.update()}}),[m,u,f,b]),r.a.createElement(w.d,{className:"pt-0 h-100 stats-small"},r.a.createElement("div",{className:"stats-small__data mx-auto"},r.a.createElement("h6",{className:"stats-small__label text-uppercase text-center mb-0 pt-0 mt-0"},r.a.createElement("b",null,"QPS")),r.a.createElement("h2",{className:"my-3 mx-auto"},t.current),r.a.createElement("h6",{className:"stats-small__label under text-uppercase text-center"},"Queries/Second")),r.a.createElement("canvas",{height:"100",ref:a,className:"stats-small-1"}))},Ot=function(e){return e.taskState.taskData};var xt=function(){var e=Object(i.c)(Ot);return r.a.createElement(ie.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(me.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(E.a,{title:"Task",className:"text-sm-left mb-3"})),r.a.createElement(me.a,null,r.a.createElement(de.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(gt,{elapsed:e.elapsed})),r.a.createElement(de.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(vt,{progress:e.progress})),r.a.createElement(de.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(yt,{qps:e.qps})),r.a.createElement(de.a,{md:"6",lg:"6",xl:"3",className:"mb-4"},r.a.createElement(wt,{speed:e.speed}))),r.a.createElement(Et,{messages:e.messages,bytes:e.bytes,lastUpdate:e.lastUpdateChart})))},kt=a(60),jt=a(62),Nt=a(61),_t=[{label:"Host",placeholder:"0.0.0.0",value:"host"},{label:"Port",placeholder:"5000",value:"port"}],Ct=[{label:"Log",placeholder:"/stream/log",value:"log"},{label:"Profile",placeholder:"/stream/profile",value:"profile"},{label:"YAML",placeholder:"/data/yaml",value:"yaml"},{label:"Shutdown",placeholder:"/action/shutdown",value:"shutdown"},{label:"Ready",placeholder:"/status/isready",value:"ready"}];function St(e){var t=e.colSpan,a=void 0===t?6:t,n=e.label,c=e.value,o=e.placeholder,s=e.onChange;return r.a.createElement(w.g,{md:a,className:"form-group"},r.a.createElement("label",null,n),r.a.createElement(w.j,{placeholder:o,value:c,onChange:s}))}var Lt=a(98);var Ft=function(e){return e.settingsState.settings};var At=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),u=Object(s.a)(o,2),m=u[0],d=u[1],p=Object(i.c)(Ft),f=Object(i.b)();function b(e,t){var n=Object(l.a)({},a);n[e]=t,c(n)}return r.a.createElement(w.d,{small:!0,className:"mb-4"},r.a.createElement(w.f,{className:"border-bottom"},r.a.createElement("h6",{className:"m-0"},"Connection Preferences")),r.a.createElement(w.e,null,r.a.createElement(w.i,null,r.a.createElement(w.p,{form:!0},_t.map((function(e){var t=e.label,n=e.placeholder,c=e.value;return r.a.createElement(St,{key:c,label:t,placeholder:n,value:c in a?a[c]:p[c],onChange:function(e){return b(c,e.target.value)}})}))),r.a.createElement(w.p,null,r.a.createElement(w.g,{xs:"6"},r.a.createElement("strong",{"aria-controls":"collapsed-form","aria-expanded":m,onClick:function(){d(!m)},className:"text-primary d-inline-block mb-3 cursor-pointer"},"Advanced"," ",r.a.createElement("i",{className:"material-icons"},m?"arrow_drop_up":"arrow_drop_down"))),r.a.createElement(w.g,{xs:"6",className:"text-right"},r.a.createElement(w.b,{onClick:function(){f(function(e){return{type:Lt.a,payload:e}}(a))}},"Save Changes"))),r.a.createElement(He.a,{in:m},r.a.createElement("div",{id:"collapsed-form"},r.a.createElement("strong",{className:"text-muted d-block mb-3"},"Endpoints"),r.a.createElement(w.p,{form:!0},Ct.map((function(e){var t=e.label,n=e.placeholder,c=e.value;return r.a.createElement(St,{key:c,label:t,placeholder:n,value:c in a?a[c]:p[c],onChange:function(e){return b(c,e.target.value)}})}))))))))},Tt=function(e){Object(jt.a)(a,e);var t=Object(Nt.a)(a);function a(){var e;Object(kt.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement(ie.a,{fluid:!0,className:"main-content-container px-4"},r.a.createElement(me.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(E.a,{title:"Settings",className:"text-sm-left mb-3"})),r.a.createElement(At,null))},e}return a}(r.a.Component),It=a(120),Dt=a(122),Pt=a(119),Rt=a(101),Mt=[{path:"/",exact:!0,layout:o.b,component:function(){return r.a.createElement(c.a,{to:"/logs"})}},{path:"/logs",layout:o.b,component:function(){var e=Object(i.b)(),t=Object(i.c)(it),a=Object(i.c)(lt),c=Object(i.c)(ut),o=Object(n.useState)((function(){return bt()})),u=Object(s.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)((function(){return Object(mt.d)(ft[m],60,t,new Date)})),f=Object(s.a)(p,2),b=f[0],g=f[1];Object(n.useEffect)((function(){var e=new Date,a=Object(mt.d)(ft[m],60,t,e);g(Object(l.a)({},a))}),[m,t]);var v=pt[m];return r.a.createElement(ie.a,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement(me.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(E.a,{title:"Log Stream",className:"text-sm-left mb-3"})),r.a.createElement(me.a,null,r.a.createElement(de.a,{md:"10",className:"mb-4"},r.a.createElement(xe,{data:b,showLog:function(t){var a=b.data,n=t[0]&&t[0]._index;if(n&&"undefined"!==typeof n){var r=a[n].lastLog;e(Object(st.b)(r))}},setTimeSelection:function(e){var t;d(e),t=e,localStorage.setItem(dt,t)},timeOptions:pt,selectedTime:m,timeLabels:v.chartLabels})),r.a.createElement(de.a,{md:"2",className:"mb-4"},r.a.createElement(je,{data:c}))),r.a.createElement(ot,{data:a,showLogDetails:function(t){e(Object(q.e)("logDetails",{log:t}))}})))},props:{usesConnection:!0,usesAuth:!1}},{path:"/flow",layout:o.b,component:function(){var e=Object(i.b)();Object(n.useState)(Object(i.c)(m.d));var t=Object(i.c)(re.b),a=Object(i.c)(m.e),c=Object(i.c)(m.c),o=Object(i.c)(m.b),u=o.flow,f=o.type,v=Object(l.a)(Object(l.a)({},u),Object(i.c)(m.f)),y=Object(n.useState)(!1),O=Object(s.a)(y,2),x=O[0],k=O[1],j=Object.keys(d).reduce((function(t,a){return t[a]=function(){var t=d[a],n=t.apply(void 0,arguments),r=n(u);return e(Object(p.j)(Object(l.a)(Object(l.a)({},v),r))),r},t}),{});Object(n.useEffect)((function(){var e=document.querySelector(".chart-container");e&&e.addEventListener("contextmenu",(function(e){return e.preventDefault()}))}),[]);var N=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];k(e)},_="user-generated"!==f;return r.a.createElement(w.h,{fluid:!0,className:"main-content-container px-0"},r.a.createElement("div",{className:"px-4"},r.a.createElement("a",{href:"/#",id:"download-link",style:{display:"none"}},"download"),r.a.createElement(w.p,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(E.a,{title:"Flow Design",className:"text-sm-left mb-3"})),r.a.createElement(le,null,r.a.createElement(F,{connected:t,flows:c,selectedFlowId:a,showNewFlowModal:function(){e(Object(q.e)("newFlow"))},createNewFlow:function(t){t.preventDefault(),t.stopPropagation(),e(Object(p.a)())},loadFlow:function(t){return e(Object(p.f)(t))},deleteFlow:function(t,a){t.preventDefault(),t.stopPropagation(),e(Object(p.b)(a))}}),r.a.createElement(ue,null,r.a.createElement(w.d,{className:"chart-section-container mr-md-4 mb-4"},r.a.createElement(G,{startFlow:function(){e(Object(p.h)(a))},stopFlow:function(){e(Object(p.i)(a))},copyChart:function(){Object(h.a)(Object(h.b)(u)),alert("Chart copied to clipboard as YAML")},importChart:function(){e(Object(q.e)("import"))},exportImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png",t=document.querySelector(".chart-container"),a=document.querySelector(".capture-overlay");if(t){a&&a.classList.add("fade-out"),N(),setTimeout((function(){return N(!1)}),500);var n={foreignObjectRendering:!0,logging:!0,x:0,y:0,scrollX:0,scrollY:0,scale:5};b()(t,n).then((function(t){var a=t.toDataURL("image/".concat(e)),n=document.getElementById("download-link");n&&(n.setAttribute("download","jina-flow-visual.".concat(e)),n.setAttribute("href",a),n.click())}))}}}),r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",{className:"capture-overlay",style:{display:x?"":"none"}},r.a.createElement("div",{className:"capture-overlay-top"}),r.a.createElement("div",{className:"capture-overlay-bottom"})),r.a.createElement(J.FlowChart,{chart:u,Components:{TooltipComponent:z,NodeInner:V,Port:$},callbacks:j,config:{readonly:_,validateLink:function(e){var t=e.fromNodeId,a=e.toNodeId,n=e.fromPortId,r=e.toPortId;return!(t===a||n===r)},smartRouting:!0}})))),r.a.createElement(ne,{availableProperties:ce.b,duplicateFlow:function(){var t=Object(h.b)(u);e(Object(p.d)(t))},readonly:_,flow:u,deleteSelection:function(){j.onDeleteKey({})},updateNode:function(t){var a=Object(g.cloneDeep)(u);a.nodes[t.id].label=t.label;var n=Object(l.a)(Object(l.a)({},t.properties),t.newProperties);return Object.keys(n).forEach((function(e){""!==n[e]&&"undefined"!==typeof n[e]||delete n[e]})),a.nodes[t.id].properties=n,e(Object(p.j)(Object(l.a)(Object(l.a)({},u),a))),a.nodes[t.id]},updateLink:function(t,a,n){if(a!==n){var r=Object(g.cloneDeep)(u);r.links[t].from.nodeId=a,r.links[t].to.nodeId=n,e(Object(p.j)(Object(l.a)(Object(l.a)({},u),r)))}}}))))},props:{usesConnection:!0,usesAuth:!1}},{path:"/task",layout:o.b,component:xt,props:{usesConnection:!0,usesAuth:!1}},{path:"/settings",layout:o.b,component:Tt,props:{usesConnection:!0,usesAuth:!1}},{path:"/help",layout:o.b,component:Rt.a,props:{usesConnection:!1,usesAuth:!1}},{path:"/home",layout:o.b,component:Rt.a,props:{usesConnection:!1,usesAuth:!1}},{path:"/hub",layout:o.b,component:It.a,props:{usesConnection:!1,usesAuth:!0}},{path:"/package",layout:o.b,component:Dt.a,props:{usesConnection:!1,usesAuth:!0}},{path:"/login",layout:o.b,component:Pt.a,props:{usesConnection:!1,usesAuth:!0}}]},591:function(e,t,a){"use strict";a.r(t),a.d(t,"Hub",(function(){return x}));var n=a(0),r=a.n(n),c=a(70),o=a(28),s=(a(588).dashboardRoutes,a(587).hubRoutes),l=a(60),u=a(115),i=a(62),m=a(61),d=a(2),p=a(127);p.a.initialize(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TARGET:"hub",REACT_APP_HUB_API:"https://hubapi.jina.ai"}).REACT_APP_GAID||"UA-164627626-1");var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){p.a.set(Object(d.a)({page:e},t)),p.a.pageview(e)},n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TARGET:"hub",REACT_APP_HUB_API:"https://hubapi.jina.ai"}).REACT_APP_BASENAME||"",c=function(t){Object(i.a)(o,t);var c=Object(m.a)(o);function o(){return Object(l.a)(this,o),c.apply(this,arguments)}return Object(u.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a("".concat(n).concat(e))}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,r=this.props.location.pathname+this.props.location.search;t!==r&&a("".concat(n).concat(r))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),o}(r.a.Component);return c},b=(a(166),a(167),a(168),a(221)),g=a(604),v=a(601),h=a(163),w=a(39),E=a(6);function y(e){var t=e.error,a=e.resetErrorBoundary;return r.a.createElement(g.a,{fluid:!0,className:"main-content-container p-5"},r.a.createElement(v.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(w.a,{title:"Error",subtitle:"This should not have happened",className:"text-sm-left my-3"})),r.a.createElement(v.a,{noGutters:!0,className:"page-header mb-4"},r.a.createElement(h.a,{xs:"12",sm:"3"},r.a.createElement("p",null,"Something went wrong:"),r.a.createElement("pre",null,r.a.createElement("code",{className:"text-warning"},t.message)))),r.a.createElement(v.a,{noGutters:!0,className:"page-header"},r.a.createElement(h.a,null,r.a.createElement(E.b,{onClick:a},"Try again"))))}var O=a(17),x=function(){return document.title="Jina Hub",r.a.createElement(c.a,{basename:"/"},r.a.createElement("div",null,s.map((function(e,t){return r.a.createElement(o.b,{key:t,path:e.path,exact:e.exact,component:f((function(t){return r.a.createElement(e.layout,Object.assign({},t,e.props),r.a.createElement(b.ErrorBoundary,{FallbackComponent:y,onReset:function(){return O.c.init()}},r.a.createElement(e.component,t)))}))})}))))}},593:function(e,t,a){"use strict";a.r(t),a.d(t,"Store",(function(){return T}));var n,r=a(5),c=a.n(r),o=a(13),s=a(29),l=a(60),u=a(115),i=a(62),m=a(61),d=a(2),p=a(15),f=a(213),b=a(41),g=a.n(b),v=a(72),h=a(17),w=a(22),E=a(84),y=a.n(E),O=a(10),x=a(99),k={connect:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("api - connect - settings",t),r="".concat(t.host,":").concat(t.port),n=y.a.create({baseURL:r,timeout:x.b}),e.prev=3,e.next=6,n.get("/");case 6:if(200!==e.sent.status){e.next=10;break}return O.a.log("api - connect successfully connected to jinad"),e.abrupt("return",a({connected:!0,message:"Successfully connected to Jina at ".concat(r)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),O.a.log("api - connect could not connect to jinad:",e.t0);case 15:return e.abrupt("return",a({connected:!1,message:"failed to connect"}));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}(),getDaemonStatus:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/status");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",daemonStatus:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/workspaces");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",workspaces:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),createWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FormData,t.forEach((function(e){"string"===typeof e?a.append("files",new Blob([e])):a.append("files",e)})),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=3,e.next=6,n.post("/workspaces",a,r);case 6:if(201!==(o=e.sent).status){e.next=9;break}return e.abrupt("return",{status:"success",workspace:o.data});case 9:return e.abrupt("return",{status:"error",message:o.data});case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",{status:"error",message:e.t0});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),deleteWorkspace:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/workspaces/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - deleteWorkspace ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),deleteAllWorkspaces:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/workspaces/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - deleteAllWorkspaces error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getFlowArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/flows/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/flows/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",flow:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:e.prev=9,e.t0=e.catch(0),O.a.log("api - getFlow error getting flow: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get flow\nFlowId:".concat(t)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),startFlow:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.log("yamlString:",t),(r=new FormData).append("flow",new Blob([t])),a&&r.append("workspace_id",a),o={headers:{"Content-Type":"multipart/form-data"}},e.prev=5,e.next=8,n.post("/flows",r,o);case 8:if(201!==(s=e.sent).status){e.next=13;break}return l=s.data,u="Successfuly started flow\nid: ".concat(l),e.abrupt("return",{status:"success",message:u,flow_id:l});case 13:return e.abrupt("return",{status:"error",message:s.data});case 16:return e.prev=16,e.t0=e.catch(5),O.a.log("api - startFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,a){return e.apply(this,arguments)}}(),terminateFlow:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/flows/".concat(t));case 3:if(a=e.sent,O.a.log("terminate result",a),200!==a.status){e.next=8;break}return r="Successfuly terminated flow ".concat(t),e.abrupt("return",{status:"success",message:r,flow:a.data});case 8:return e.abrupt("return",{status:"error",message:a.data});case 11:return e.prev=11,e.t0=e.catch(0),O.a.log("api - terminateFlow error: ",e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllFlows:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/flows/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - terminateAllFlows error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/logs/".concat(t,"/").concat(a));case 3:if(200!==(r=e.sent).status){e.next=7;break}return o=r.data.split("\n").filter((function(e){return""!==e})).map(JSON.parse),e.abrupt("return",{status:"success",logs:o});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O.a.log("api - getLogs error: ",e.t0);case 12:return e.abrupt("return",{status:"error",message:"Could not get logs for flow.\nFlowId:".concat(a)});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),listenForLogs:function(){var e=Object(o.a)(c.a.mark((function e(t,a,n,r,o){var s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.host.replace("http://","ws://").replace("https://","wss://"),l="".concat(s,":").concat(n.port,"/logstream/").concat(t,"/").concat(a),O.a.log("api - listenForLogs - baseURl:",l),e.prev=3,u=new WebSocket(l),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",r({connected:!1,message:e.t0}));case 10:u.addEventListener("open",(function(){r({connected:!0,message:"Successfully Connected"}),u.send(JSON.stringify({from:0}))})),u.addEventListener("message",(function(e){O.a.log("api - logstream - message received: ",e);var t=JSON.parse(e.data);o(t)})),u.addEventListener("close",(function(e){r({connected:!1,message:"Connection closed"})})),u.addEventListener("error",(function(e){r({connected:!1,message:"Socket error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),getPodArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/pods/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - getPod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/pods",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pod:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePod:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/pods/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - terminatePod ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPods:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/pods/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - terminateAllPods error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),getPeaArguments:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/peas/arguments");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",arguments:t.data});case 6:return e.abrupt("return",{status:"error",message:t.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),getPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.get("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - getPea error getting pea ".concat(t,": "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),startPea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.post("/peas",t);case 3:if(201!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",pea:a.data});case 6:return e.abrupt("return",{status:"error",message:a.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"error",message:e.t0});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),terminatePea:function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/peas/".concat(t));case 3:if(200!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:a.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - terminatePea ".concat(t," error: "),e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),terminateAllPeas:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.delete("/peas/all");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{status:"success",message:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O.a.log("api - terminateAllPeas error: ",e.t0);case 11:return e.abrupt("return",{status:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},j=function(){return[{items:[{title:"Home",to:"/home",iconName:"home",matches:["home"]},{title:"Log Stream",to:"/logs",iconName:"insert_comment",matches:["logs"]},{title:"Task",to:"/task",iconName:"assessment",matches:["task"]},{title:"Flow Design",to:"/flow",iconName:"device_hub",matches:["flow"]},{title:"Hub",to:"/hub",iconName:"store",matches:["hub","package"]},{title:"Settings",to:"/settings",iconName:"settings",matches:["settings"]},{title:"Help",to:"/help",iconName:"help",matches:["help"]}]}]},N=a(107),_=a(33);function C(){var e={};return Object.entries(N.a).forEach((function(t){var a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(w.f)(r.yaml),o=Object(w.d)(c.data);e[n]=Object(d.a)(Object(d.a)({},r),{},{flow:o})})),e}function S(){var e=localStorage.getItem("userFlows"),t=e?JSON.parse(e):null;return g.a.isEmpty(t)?{_userFlow:{name:"Custom Flow 1",type:"user-generated",flow:{selected:{},hovered:{},scale:1,nodes:{gateway:{id:"gateway",label:"gateway",ports:{outPort:{id:"outPort",type:"output"}},properties:{},position:{x:629,y:72}}},links:{},offset:{x:0,y:0}}}}:t}function L(){return{settings:{host:localStorage.getItem("preferences-host")||"http://localhost",port:localStorage.getItem("preferences-port")||5e3,log:localStorage.getItem("preferences-log")||"/stream/log",profile:localStorage.getItem("preferences-profile")||"/stream/profile",yaml:localStorage.getItem("preferences-yaml")||"/data/yaml",shutdown:localStorage.getItem("preferences-shutdown")||"/action/shutdown",ready:localStorage.getItem("preferences-ready")||"/status/ready"},activeFlow:!1,images:{},hub:[],banner:!1,connected:!1,loading:!0,modal:!1,menuVisible:!1,navItems:j(),flows:Object(d.a)(Object(d.a)({},S()),C()),selectedFlow:"_userFlow",logs:[],logSources:{},logLevels:{},logLevelOccurences:{},logIndex:!1,summaryCharts:{},processes:{},taskData:{qps:{current:0,history:new Array(30).fill(0)},elapsed:{task_name:"No Current Task",seconds:"0s"},progress:{currentRequest:0,bar_len:0,num_bars:0},speed:{current:0,unit:"units",history:new Array(30).fill(0)},lastUpdateChart:new Date,messages:[],bytes:[]},selectedNode:null,modalParams:{},currentTab:"logStream"}}var F,A=L();"localhost"===window.location.hostname&&O.a.enable();var T=new(function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).registerActions=function(t){var a,n=t.actionType,r=t.payload;switch(n){case h.a.TOGGLE_SIDEBAR:e.toggleSidebar();break;case h.a.SHOW_MODAL:e.showModal(r);break;case h.a.SHOW_BANNER:(a=e).showBanner.apply(a,Object(s.a)(r));break;case h.a.IMPORT_CUSTOM_YAML:e.importCustomYAML(r);break;case h.a.CLOSE_MODAL:e.closeModal();break;case h.a.SHOW_LOG_AT_INDEX:e.showLogAtIndex(r);break;case h.a.SAVE_SETTINGS:e.saveSettings(r);break;case h.a.RECONNECT:e.reconnect();break;case h.a.LOAD_FLOW:e.loadFlow(r);break;case h.a.SHOW_POD_IN_FLOW:e.showPodByLabel(r);break;case h.a.CREATE_NEW_FLOW:e.createNewFlow();break;case h.a.DUPLICATE_FLOW:e.createNewFlow(r);break;case h.a.UPDATE_FLOW:e.updateFlow(r);break;case h.a.DELETE_FLOW:e.deleteFlow(r);break;case h.a.START_FLOW:e.startFlow(r);break;case h.a.STOP_FLOW:e.stopFlow()}},e.init=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.clearIntervals(),A=L(),e.emit("update-ui"),e.emit("update-settings");case 4:case"end":return t.stop()}}),t)}))),e.clearIntervals=function(){},e.initFlowChart=Object(o.a)(c.a.mark((function t(){var a,n,r,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.getFlow(A.settings);case 3:n=t.sent,r=n.flow,a=Object(w.f)(r),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),O.a.log("initFlowChart - parseYAML[API] ERROR",t.t0),t.abrupt("return");case 12:O.a.log("initFlowChart - flow",a),(o=Object(w.d)(a.data)).with=a.data.with,O.a.log("initFlowChart - parsed",o),(s={}).connectedFlow={flow:o,name:"Network Flow",type:"remote"},A.flows=Object(d.a)(Object(d.a)({},s),A.flows),A.selectedFlow="connectedFlow",e.emit("update-ui"),e.emit("update-flowchart");case 22:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.initJinaD=function(){k.connect(A.settings,e.handleJinaDConnection)},e.handleJinaDConnection=function(t){var a=t.connected,n=t.msg;if(O.a.log("handleLogConnectionStatus - connected",a),O.a.log("handleLogConnectionStatus - msg",n),A.loading=!1,a)return A.connected=!0,e.showBanner(n,"success");A.connected=!1,e.emit("update-ui")},e.handleLogConnectionStatus=function(t,a){if(O.a.log("handleLogConnectionStatus - status",t),O.a.log("handleLogConnectionStatus - message",a),A.loading=!1,"connected"===t)return A.connected=!0,e.showBanner(a,"success");A.connected=!1,e.emit("update-ui")},e.handleNewLog=function(t){var a=Object(h.d)(t,A.logs.length),n=a.process,r=a.name,c=a.level,o=a.unixTime;A.logs.push(a),A.processes[n]=a.name,A.logSources[r]?A.logSources[r]++:A.logSources[r]=1,A.logLevels[c]?A.logLevels[c]++:A.logLevels[c]=1,A.logLevelOccurences[o]||(A.logLevelOccurences[o]={}),A.logLevelOccurences[o].levels[c]++,A.logLevelOccurences[o].lastLog=a.idx,e.emit("update-logs")},e.handleNewTaskEvent=function(e){var t=e.data,a=t.task_name,n=t.process,r=t.bar_len,c=t.num_bars,o=t.elapsed,s=t.speed,l=t.speed_unit,u=t.bytes_recv,i=t.bytes_sent,m=t.msg_recv,d=t.msg_sent,p=t.num_reqs,f=t.qps;if(r&&c&&(A.taskData.progress.currentRequest=p,A.taskData.progress.bar_len=r,A.taskData.progress.num_bars=c),m&&d){var b=A.taskData.messages.map((function(e){return e.process})).indexOf(n),g={process:n,sent:d,received:m,node:A.processes[n]},v={process:n,sent:i,received:u,node:A.processes[n]};b<0?(A.taskData.messages.push(g),A.taskData.bytes.push(v)):(A.taskData.messages[b]=g,A.taskData.bytes[b]=v),A.taskData.messages=A.taskData.messages.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),A.taskData.bytes=A.taskData.bytes.sort((function(e,t){return t.sent+t.received-(e.sent+e.received)})).slice(0,20),A.taskData.lastUpdateChart=new Date}f&&(A.taskData.qps.current=parseFloat(f).toFixed(1),A.taskData.qps.history.push(parseFloat(f).toFixed(3)),A.taskData.qps.history.shift()),s&&l&&(A.taskData.speed.unit=l,A.taskData.speed.current=parseFloat(s).toFixed(1),A.taskData.speed.history.push(parseFloat(s).toFixed(3)),A.taskData.speed.history.shift()),o&&(A.taskData.elapsed.seconds=Object(w.e)(parseInt(o)),A.taskData.elapsed.task_name="Task: ".concat(a))},e.showLogAtIndex=function(t){t&&A.logs[t]&&(A.logIndex=t,e.emit("show-log"))},e.showPodByLabel=function(t){var a={},n=0,r=0;Object.entries(A.flowchart.nodes).forEach((function(e){var c=Object(p.a)(e,2),o=c[0],s=c[1];s.label===t&&(a.id=o,a.type="node",n=-1*s.position.x+40,r=-1*s.position.y+100)})),A.flowchart.selected=a,A.flowchart.offset={x:n,y:r},e.emit("update-flowchart"),window.location.hash="#/flow"},e.importCustomYAML=function(t){O.a.log("importCustomYAML - customYAML",t),e.createNewFlow(t),e.closeModal(),e.emit("update-flowchart")},e.loadFlow=function(t){A.selectedFlow=t,e.emit("update-flowchart")},e.updateFlow=function(t){A.flows[A.selectedFlow].flow=t,e.saveFlowsToStorage(),e.emit("update-flowchart")},e.startFlow=function(){var t=Object(o.a)(c.a.mark((function t(a){var n,r,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.startFlow(a);case 2:if("error"!==(n=t.sent).status){t.next=5;break}return t.abrupt("return",e.showError("Error starting flow"));case 5:return r=n.flow_id,A.activeFlow=r,t.next=9,k.getFlow(r);case 9:if("error"!==(o=t.sent).status){t.next=12;break}return t.abrupt("return",e.showError("Error getting flow information"));case 12:s=o.flow.workspace_id,A.activeWorkspace=s,O.a.log("store - startFlow - activeFlow: ",r),O.a.log("store - startFlow - activeWorkspace: ",s),e.showSuccess("Flow successfully started\nFlowId: ".concat(r)),setTimeout(e.startLogStream,3e3);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.stopFlow=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=A.activeFlow,O.a.log("store - stopFlow - flowId: ",a),t.next=4,k.terminateFlow(a);case 4:"success"===t.sent.status?(A.activeFlow=!1,e.showSuccess("Flow successfully closed\nFlowId: ".concat(a))):e.showError("Could not close flow \nFlowId: ".concat(a));case 6:case"end":return t.stop()}}),t)}))),e.startPod=function(){var t=Object(o.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O.a.log("store - startPod - podArgs: ",a),t.next=3,k.startPod(a);case 3:"success"===t.sent.status?(A.activeFlow=!1,e.showSuccess("Pod successfully started")):e.showError("Could not start pod");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.stopPod=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=A.activeFlow,O.a.log("store - stopFlow - flowId: ",a),t.next=4,k.terminateFlow(a);case 4:"success"===t.sent.status?(A.activeFlow=!1,e.showSuccess("Flow successfully closed\nFlowId: ".concat(a))):e.showError("Could not close flow \nFlowId: ".concat(a));case 6:case"end":return t.stop()}}),t)}))),e.startLogStream=Object(o.a)(c.a.mark((function t(){var a,n,r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=A.activeFlow,n=A.activeWorkspace,r=function(e){O.a.log("store - startLogStream - callback result: ",e)},t.next=5,k.getLogs(n,a);case 5:o=t.sent,o.logs.forEach((function(t){e.handleNewLog(t)})),k.listenForLogs(n,a,A.settings,r,e.handleNewLog);case 9:case"end":return t.stop()}}),t)}))),e.createNewFlow=function(t){var a,n="Custom Flow",r=Object.values(A.flows).filter((function(e){return e.name.startsWith(n)})).map((function(e){return parseInt(e.name.substring(n.length))||0})).sort((function(e,t){return e-t})),c=r[r.length-1]||0,o=Object(v.a)();if(t){var s=Object(w.f)(t);a=Object(w.d)(s.data)}else a={selected:{},hovered:{},scale:1,nodes:{gateway:{id:"gateway",label:"gateway",ports:{outPort:{id:"outPort",type:"output"}},properties:{},position:{x:629,y:72}}},links:{},offset:{x:0,y:0}};A.flows[o]={name:"".concat(n," ").concat(c+1),type:"user-generated",flow:a},A.selectedFlow=o,e.saveFlowsToStorage(),e.emit("update-flowchart")},e.deleteFlow=function(t){A.flows=g.a.omit(A.flows,t);var a=Object.entries(A.flows).filter((function(e){var t=Object(p.a)(e,2);t[0];return"example"!==t[1].type}));A.selectedFlow===t&&a.length?A.selectedFlow=a[0][0]:a.length||(A.flows=Object(d.a)({_userFlow:{name:"Custom Flow 1",type:"user-generated",flow:{selected:{},hovered:{},scale:1,nodes:{gateway:{id:"gateway",label:"gateway",ports:{outPort:{id:"outPort",type:"output"}},properties:{},position:{x:629,y:72}}},links:{},offset:{x:0,y:0}}}},A.flows),A.selectedFlow="_userFlow"),e.saveFlowsToStorage(),e.emit("update-flowchart")},e.saveFlowsToStorage=function(){var e={},t=A.flows;Object.entries(t).forEach((function(t){var a=Object(p.a)(t,2),n=a[0],r=a[1];"user-generated"===r.type&&(e[n]=r)})),localStorage.setItem("userFlows",JSON.stringify(e))},e.saveSettings=function(t){O.a.log("saveSettings - settings",t),Object.keys(t).forEach((function(e){localStorage.setItem("preferences-".concat(e),t[e])})),setTimeout(e.init,100)},e.showBanner=function(t,a){F&&clearTimeout(F),A.banner={message:String(t),theme:a},F=setTimeout(e.hideBanner,_.d),e.emit("update-ui")},e.hideBanner=function(){A.banner=!1,e.emit("update-ui")},e.showError=function(t){e.showBanner(t,"error")},e.showSuccess=function(t){e.showBanner(t,"success")},e.showModal=function(t){var a=t.modal,n=t.modalParams;A.modal=a,A.modalParams=n||{},e.emit("update-ui")},e.closeModal=function(){A.modal=!1,A.modalParams={},e.emit("update-ui")},e.getCurrentTab=function(){return A.currentTab},e.getUser=function(){return A.user},e.getSettings=function(){return A.settings},e.getBanner=function(){return A.banner},e.getModal=function(){return A.modal},e.getModalParams=function(){return A.modalParams},e.getLogs=function(){return A.logs},e.getLogSources=function(){return A.logSources},e.getLogLevels=function(){return A.logLevels},e.getSummaryCharts=function(){return A.summaryCharts},e.getLogLevelOccurences=function(){return A.logLevels},e.getTaskData=function(){return A.taskData},e.getActivePanel=function(){var e=window.location.hash.substring(2,window.location.hash.length);return e.startsWith("flow")?"flow":e.startsWith("logs")?"logs":e.startsWith("hub")||e.startsWith("package")?"hub":e.startsWith("task")?"task":"neither"},e.getConnectionStatus=function(){return A.connected},e.getActiveFlow=function(){return A.activeFlow},e.isLoading=function(){return A.loading},e.getFlowchart=function(){return A.flows[A.selectedFlow]},e.getFlows=function(){return A.flows},e.getSelectedFlowId=function(){return A.selectedFlow},e.getIndexedLog=function(){return A.logIndex},e.getStoreCopy=function(){return g.a.cloneDeep(A)},h.b.register(e.registerActions),e.init(),window.peakLogs=e.getLogs,window.peakStore=function(){return console.log(A)},e}return Object(u.a)(a,[{key:"reconnect",value:function(){this.init()}},{key:"toggleSidebar",value:function(){A.menuVisible=!A.menuVisible,this.emit("update-ui")}},{key:"getMenuState",value:function(){return A.menuVisible}},{key:"getSidebarItems",value:function(){return A.navItems}}]),a}(f.EventEmitter))},596:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(25),s=a.n(o),l=a(40),u=a(16),i="#009999",m="#FFCC66",d={palette:{background:{default:"#FFFFFF"},headerTextColor:"#000000",primary:i,secondary:m,warning:m,error:"#ff6666",success:"#32C8CD",info:i,critical:"#ff4540",debug:"#7E7278"}},p=(a(166),a(167),a(168),a(42));n=a(591).Hub,s.a.render(c.a.createElement(l.c,{theme:d},c.a.createElement(u.a,{store:p.a},c.a.createElement(n,null))),document.getElementById("root"))},67:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return b}));var n=a(2),r=a(15),c=a(36),o=a(153),s=a(34),l=a(41),u=a.n(l),i={};s.b.forEach((function(e){return i[e.name]=e.type}));var m=function(e){var t=/^!/.test(e)?e.split("\n").slice(1).join("\n"):e;try{return{data:o.parse(t)}}catch(a){return alert("Error Parsing YAML:\n"+a),{error:a}}},d=function(e){var t=e.with,a=e.nodes,s=e.links,l=Object.values(s).reduce((function(e,t){var n=function(e,t){var a,n=e.from,r=e.to;return a={},Object(c.a)(a,n.portId,t[n.nodeId].label||t[n.nodeId].properties.name),Object(c.a)(a,r.portId,t[r.nodeId].label||t[r.nodeId].properties.name),a}(t,a),r=n.outPort,o=n.inPort;return e[o]||(e[o]=[]),e[o].push(r),e}),{}),u=Object.values(a).reduce((function(e,t){var a=t.label;if(!a)return e;var c,o=Object.entries(t.properties).reduce((function(e,t){var a=Object(r.a)(t,2),n=a[0],c=a[1];return e[n]=function(e,t){return"bool"===i[e]?"true"===t:t}(n,c),e}),{});return l[a]&&(o.needs=(c=l[a],Array.isArray(c)&&1===c.length?c[0]:c)),e[a]=Object(n.a)({},o),e}),{}),m=Object.values(a).reduce((function(e,t){var a=t.position,n=a.x,r=a.y;return e[t.label]={x:n,y:r},e}),{}),d={with:Object(n.a)(Object(n.a)({},t),{},{board:{canvas:m}}),pods:u};return"!Flow\n".concat(o.stringify(d))},p=function(e){var t=60,a=3600;return e<t?"".concat(Math.floor(e),"s"):e<a?"".concat(Math.floor(e/t),"m ").concat(Math.floor(e%t),"s"):"".concat(Math.floor(e/a),"h ").concat(Math.floor(e%a/t),"m ").concat(Math.floor(e%t),"s")},f=function(e){return e<1024?"".concat(e," Bytes"):e<Math.pow(1024,2)?"".concat((e/1024).toFixed(1)," KB"):e<Math.pow(1024,3)?"".concat((e/Math.pow(1024,2)).toFixed(1)," MB"):"".concat((e/Math.pow(1024,3)).toFixed(1)," GB")};function b(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=Object(s.d)(),c=e/t,o=[],l=Math.ceil(n/1e3/c)*c,i=Math.floor(n/1e3),m=function(e){for(var t=u.a.cloneDeep(r),n=e;n<e+c;++n){var s=a[n];s&&(t.lastLog=s.lastLog,Object.entries(s.levels).forEach((function(e){var a=e[0],n=e[1];t.levels[a]=t.levels[a]+n})))}o.push(t)},d=l-e;d<l;d+=c)m(d);return{data:o,numSeconds:e,numTicks:t,lastTimestamp:i}}},68:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return o}));var n="FETCH_HUB_IMAGES",r="FETCH_HUB_IMAGES_SUCCESS",c="FETCH_HUB_IMAGES_FAILURE",o={images:[],loading:!1,error:null}},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="UPDATE_SETTINGS",r={settings:{host:localStorage.getItem("preferences-host")||"http://localhost",port:localStorage.getItem("preferences-port")||"5000",log:localStorage.getItem("preferences-log")||"/stream/log",profile:localStorage.getItem("preferences-profile")||"/stream/profile",yaml:localStorage.getItem("preferences-yaml")||"/data/yaml",shutdown:localStorage.getItem("preferences-shutdown")||"/action/shutdown",ready:localStorage.getItem("preferences-ready")||"/status/ready"}}},99:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=5e3,r="https://hubapi.jina.ai"}},[[596,1,2]]]);
//# sourceMappingURL=main.cd777e2c.chunk.js.map